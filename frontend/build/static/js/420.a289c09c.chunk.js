"use strict";(self.webpackChunk_soomy_soomy_electronic_auctions_web_site=self.webpackChunk_soomy_soomy_electronic_auctions_web_site||[]).push([[420],{14889:function(e,i,n){n.r(i);var s,l=n(70885),o=n(72791),t=n(82056),r=n(49335),c=n(24849),a=n(99463),d=n(33092),u=n(50723),v=n(50152),m=n(85246),f=n(69670),x=n(96400),p=n(80918),h=n(96766),j=(n(65141),n(8977)),g=n(57496),b=n(75985),N=n(10226),k=n(79168),w=n(67957),y=n(5976),_=n(25309),C=n(47960),P=n(29321),Z=n(43504),S=n(16871),D=n(59434),E=n(74569),I=n.n(E),U=n(29609),T=n(74387),L=n(56460),R=(n(88040),n(30197)),A=n(31363),B=n(11632),O=n(40942),H=n(96580),W=n(80184);O.vI.add(B.U$5);var F=function(){return(0,W.jsxs)("div",{children:[(0,W.jsx)("p",{children:"\u2b50 Ajout\xe9 aux favoris! "}),(0,W.jsxs)(Z.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},M=function(){return(0,W.jsxs)("div",{style:{textAlign:"center"},children:[(0,W.jsx)("p",{children:"\u2b50 supprim\xe9 des favoris! "}),(0,W.jsxs)(Z.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},z={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1400},items:4},tablet:{breakpoint:{max:1500,min:1100},items:3},mobile:{breakpoint:{max:1100,min:550},items:2},smallmobile:{breakpoint:{max:550,min:0},items:1}};i.default=function(e){var i,n,E,O,V,G,Y,q,$,J,Q,K,X,ee,ie,ne,se,le,oe,te,re,ce,ae,de,ue,ve,me,fe,xe,pe,he,je,ge,be,Ne,ke,we,ye,_e=(0,o.useState)(),Ce=(0,l.Z)(_e,2),Pe=Ce[0],Ze=Ce[1],Se=(0,o.useState)(!1),De=(0,l.Z)(Se,2),Ee=De[0],Ie=De[1],Ue=(0,o.useState)(!1),Te=(0,l.Z)(Ue,2),Le=Te[0],Re=Te[1],Ae=(0,o.useState)(!1),Be=(0,l.Z)(Ae,2),Oe=Be[0],He=Be[1],We=(0,o.useState)(null),Fe=(0,l.Z)(We,2),Me=Fe[0],ze=Fe[1],Ve=(0,o.useState)(""),Ge=(0,l.Z)(Ve,2),Ye=Ge[0],qe=Ge[1],$e=(0,o.useState)(""),Je=(0,l.Z)($e,2),Qe=Je[0],Ke=Je[1],Xe=(0,o.useState)(!1),ei=(0,l.Z)(Xe,2),ii=ei[0],ni=ei[1],si=(0,o.useState)(!1),li=(0,l.Z)(si,2),oi=li[0],ti=li[1],ri=(0,o.useState)(!1),ci=(0,l.Z)(ri,2),ai=ci[0],di=ci[1],ui=(0,o.useState)([]),vi=(0,l.Z)(ui,2),mi=(vi[0],vi[1],(0,o.useState)(0)),fi=(0,l.Z)(mi,2),xi=fi[0],pi=fi[1],hi=(0,o.useState)(!1),ji=(0,l.Z)(hi,2),gi=ji[0],bi=ji[1],Ni=(0,o.useState)(0),ki=(0,l.Z)(Ni,2),wi=ki[0],yi=ki[1],_i=(0,o.useState)(!1),Ci=(0,l.Z)(_i,2),Pi=Ci[0],Zi=Ci[1],Si=(0,o.useState)(!1),Di=(0,l.Z)(Si,2),Ei=Di[0],Ii=Di[1],Ui=(0,o.useState)(!1),Ti=(0,l.Z)(Ui,2),Li=Ti[0],Ri=Ti[1],Ai=(0,o.useState)(),Bi=(0,l.Z)(Ai,2),Oi=Bi[0],Hi=(Bi[1],(0,o.useState)("")),Wi=(0,l.Z)(Hi,2),Fi=(Wi[0],Wi[1]),Mi=(0,o.useState)(600),zi=(0,l.Z)(Mi,2),Vi=zi[0],Gi=zi[1],Yi=(0,o.useState)(!1),qi=(0,l.Z)(Yi,2),$i=qi[0],Ji=qi[1],Qi=(0,o.useState)(!1),Ki=(0,l.Z)(Qi,2),Xi=Ki[0],en=Ki[1],nn=(0,o.useState)(!1),sn=(0,l.Z)(nn,2),ln=sn[0],on=sn[1],tn=(0,o.useState)(!1),rn=(0,l.Z)(tn,2),cn=rn[0],an=rn[1],dn=(0,o.useState)(!1),un=(0,l.Z)(dn,2),vn=un[0],mn=un[1],fn=(0,o.useState)(!0),xn=(0,l.Z)(fn,2),pn=xn[0],hn=xn[1],jn=(0,S.s0)(),gn=(0,D.v9)((function(e){return e.user})),bn=gn.userInfo,Nn=gn.isAuth,kn=(gn.montant,gn.updateBookmarksLoading),wn=gn.updateBookmarksErrors,yn=gn.showModal,_n=(0,D.v9)((function(e){return e.participation})),Cn=_n.participation,Pn=_n.freeCredit,Zn=(0,D.v9)((function(e){return e.room})).auction,Sn=(0,D.v9)((function(e){return e.packUse})),Dn=Sn.packUse,En=(Sn.isLoading,Sn.error,Sn.allPackUse),In=(0,w.a)(new Date(Zn?Zn.startDate:null)),Un=(0,l.Z)(In,4),Tn=Un[0],Ln=Un[1],Rn=Un[2],An=Un[3],Bn=Dn?Dn.remaining:null,On=(0,D.v9)((function(e){return e.packUse.remaining})),Hn=(0,D.v9)((function(e){return e.purchase})),Wn=Hn.updateLoading,Fn=(Hn.errors,Hn.purchasedPacks),Mn=(Hn.updatedPack,Hn.selectedPurchasedPack,Hn.updateErrors,(0,D.I0)()),zn=(0,o.useState)(0),Vn=(0,l.Z)(zn,2),Gn=(Vn[0],Vn[1]),Yn=(0,o.useState)(window.innerWidth),qn=(0,l.Z)(Yn,2),$n=qn[0],Jn=qn[1],Qn=(0,o.useState)(0),Kn=(0,l.Z)(Qn,2),Xn=Kn[0],es=Kn[1],is=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;es(null===(e=is.current)||void 0===e?void 0:e.clientHeight)}));var ns=(0,o.useRef)(null),ss=(0,o.useRef)(null),ls=(0,S.UO)().id;(0,o.useEffect)((function(){Mn((0,N.lO)(ls))}),[Mn,ls]),(0,o.useEffect)((function(){Zn&&Tn<=0&&Ln<=0&&Rn<=0&&An<=0&&"pending"===Zn.status&&100===Math.floor(xi/(null===Zn||void 0===Zn?void 0:Zn.capacity)*100)&&Mn((0,N.R$)({id:null===Zn||void 0===Zn?void 0:Zn._id,data:{status:"enable"}})).then((function(){Mn((0,N.fv)(null===Zn||void 0===Zn?void 0:Zn._id))}))}),[Tn,Ln,Rn,An]),(0,o.useEffect)((function(){Zn&&I().get("/participations/getNumberOfParticipations/".concat(null===Zn||void 0===Zn?void 0:Zn._id)).then((function(e){return pi(e.data)}))}),[Zn]),(0,o.useEffect)((function(){var e;if(s=(0,U.ZP)(),Zn&&"enable"===Zn.status&&bn&&Dn)return s.emit("join",{user:null===bn||void 0===bn?void 0:bn.username,room:Zn,remaining:null===Dn||void 0===Dn?void 0:Dn.remaining,app_id:null===bn||void 0===bn?void 0:bn._id,photo:null===bn||void 0===bn||null===(e=bn.profile_img)||void 0===e?void 0:e.imageURL},(function(e){e&&console.log(e)})),s.emit("reset"),function(){s.disconnect()}}),[Zn,Dn,Bn]),window.addEventListener("beforeunload",(function(e){if(Zn&&"enable"===Zn.status&&bn&&Dn){s.on("userwelcomeback",(function(e){console.log("userwelcomeback:",e),Mn((0,k.Y4)(e.montant)),yi(e.counter),qe(e.user),Ii(e.control),Ke(e.photo)}));var i='\xcates-vous s\xfbr de vouloir quitter l"ench\xe9re?';return e.returnValue=i,i}})),(0,o.useEffect)((function(){bn&&Zn&&(He(!0),I().get("/participations/getUserAndRoomParticipation/".concat(null===bn||void 0===bn?void 0:bn._id,"/").concat(null===Zn||void 0===Zn?void 0:Zn._id)).then((function(e){var i;He(!1),ze(e.data),Mn((0,L.et)(null===(i=e.data)||void 0===i?void 0:i.freeCredit))})).catch((function(e){return He(!1)})))}),[Mn,bn,Zn,Cn]),(0,o.useEffect)((function(){return bn&&Zn&&(s.on("click",(function(e){yi(e.counter),qe(e.user),Fi(e.userId),Ke(e.photo)})),s.on("userwelcome",(function(e){Mn((0,k.Y4)(e.montant)),yi(e.counter),qe(e.user),Ii(e.control),Ke(e.photo)})),s.on("conflictingConnection",(function(e){e.roomID===Zn._id&&Ji(e.control)})),s.on("leaveConnection",(function(e){e.roomID===Zn._id&&en(e.control)})),s.on("updateRoom",(function(e){e.roomID===Zn._id&&Mn((0,N.fv)(e.roomID))})),s.on("buyProduct",(function(e){e.winner===bn._id&&Ri(e.directBuyTrigger),Ii(e.control)})),s.on("winner",(function(e){ti(!0),Mn((0,g.vr)()),bi(!1),Zi(e.flag),Mn((0,N.fv)(Zn._id))})),s.on("lost",(function(e){di(!0),Mn((0,g.vr)()),bi(!1),Zi(e.flag),Mn((0,N.fv)(Zn._id))})),s.on("neutral",(function(e){Zi(e.flag),Mn((0,g.vr)()),bi(!1),Mn((0,N.fv)(Zn._id))})),s.on("userjoin",(function(e){yi(e.counter),qe(e.user),Ke(e.photo)})),s.on("timer",(function(e){Gi(e.countdown)})),s.on("updatecounter",(function(e){Mn((0,k.Y4)(e.montant))})),s.on("updateFreeCredit",(function(e){Mn((0,L.et)(e.freeCredit)),0===e.freeCredit&&bi(!0)}))),function(){s.off("click"),s.off("updateRoom"),s.off("userwelcome"),s.off("updatecounter"),s.off("updateFreeCredit"),s.off("userjoin"),s.off("winner"),s.off("lost"),s.off("neutral"),s.off("leaveConnection"),s.off("timer"),s.off("directPurchase"),s.off("conflictingConnection"),s.off("userwelcomeback")}}),[Zn,Bn,bn]),(0,o.useEffect)((function(){s.on("timer",(function(e){Gi(e.countdown)}))}));var os=(0,o.useCallback)((function(e,i){s.emit("validatePurchase",{roomID:e,userID:i})}),[]),ts=(0,o.useCallback)((function(){Zn&&s.emit("rejectPurchase",{roomID:Zn._id,userID:null===bn||void 0===bn?void 0:bn._id}),Ri(!1)}),[]);(0,o.useLayoutEffect)((function(){var e,i;Gn(null===(e=ss.current)||void 0===e?void 0:e.offsetWidth),es(null===(i=ss.current)||void 0===i?void 0:i.offsetHeight)}),[ss.current,Oi,$n]);var rs=(0,o.useCallback)((function(e){Ji(e)}),[]);function cs(e){var i=new Date(1e3*e),n=i.getUTCMinutes(),s=i.getSeconds();return n.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}(0,o.useEffect)((function(){window.addEventListener("resize",(function(){return Jn(window.innerWidth)}))}),[]),(0,o.useEffect)((function(){Ie(!0),Mn((0,N.fv)(ls)).then((function(e){return Ie(!1)})).catch((function(e){return Ie(!1)}))}),[ls]),(0,o.useEffect)((function(){var e,i;Zn&&(Re(!0),I().get("/rooms/getAuctionsByCategory/".concat(null===Zn||void 0===Zn||null===(e=Zn.product)||void 0===e||null===(i=e.category)||void 0===i?void 0:i._id)).then((function(e){var i;Re(!1);var n=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===Zn||void 0===Zn?void 0:Zn._id)}));Ze(n),Re(!1)})))}),[Zn]);(0,o.useEffect)((function(){Me&&!0===Me.ban&&on(!0)}),[Me]),(0,o.useEffect)((function(){return function(){Mn((0,N.NE)()),Mn((0,N.GJ)()),Mn((0,L.et)(0))}}),[]);var as=null===Zn||void 0===Zn?void 0:Zn.status,ds=bn&&bn._id;(0,o.useEffect)((function(){ds&&"enable"===as&&Mn((0,k.RQ)({roomId:ls,userid:ds}))}),[Mn,ls,ds,as]),(0,o.useEffect)((function(){ds&&"enable"===as&&(null===Dn?Mn(null===Fn?(0,g.vE)(0):(0,g.vE)(1)):console.log("Pack s\xe9lectionn\xe9 trouv\xe9 pour cette ench\xe9re"))}),[Mn,ds,as,Dn]);var us=(0,o.useState)(""),vs=(0,l.Z)(us,2),ms=vs[0],fs=vs[1];(0,o.useEffect)((function(){"enable"===(null===Zn||void 0===Zn?void 0:Zn.status)&&Dn&&((null===Dn||void 0===Dn?void 0:Dn.remaining)<(null===Zn||void 0===Zn?void 0:Zn.mise)&&Mn((0,k.e0)({packUseId:Dn._id,payload:{user_id:null===bn||void 0===bn?void 0:bn._id,room_id:ls,selectedPurchasedPack_Id:Dn.selectedPurchasedPack_Id}})).then((function(){Mn((0,k.TS)({roomId:ls,userId:null===bn||void 0===bn?void 0:bn._id}))})))}),[null===Dn||void 0===Dn?void 0:Dn.remaining]),(0,o.useEffect)((function(){var e,i,n,s;null!==Bn&&Bn<(null===Zn||void 0===Zn?void 0:Zn.mise)||On<(null===Zn||void 0===Zn?void 0:Zn.mise)?null===Fn||(null!==(e=null===Fn||void 0===Fn||null===(i=Fn.packPurchases)||void 0===i?void 0:i.length)&&void 0!==e?e:0)===(null!==(n=null===En||void 0===En?void 0:En.length)&&void 0!==n?n:0)||null!==Fn&&void 0!==Fn&&null!==(s=Fn.packPurchases)&&void 0!==s&&s.every((function(e){return!1===e.availability}))?(fs("Acheter un pack"),Mn((0,g.vE)(0))):fs("Choisir un pack"):null!==Bn&&Bn>=(null===Zn||void 0===Zn?void 0:Zn.mise)||On>=(null===Zn||void 0===Zn?void 0:Zn.mise)?0===wi?fs("Premi\xe9re mise +".concat(null===Zn||void 0===Zn?void 0:Zn.mise," Bitso")):wi>0&&fs("Miser +".concat(null===Zn||void 0===Zn?void 0:Zn.mise," Bitso")):null!==Bn&&null!==On||(null===Fn?(fs("Acheter un pack"),Mn((0,g.vE)(0))):null!==Fn&&null===Dn&&fs("Choisir un pack"))}),[Bn,Zn,Fn,Dn,wi,On]);(0,o.useEffect)((function(){var e=setTimeout((function(){hn(!1)}),3e4);return function(){return clearTimeout(e)}}),[]);return(0,W.jsxs)("div",{children:[(0,W.jsxs)("main",{className:"d-flex flex-column justify-content-center align-items-center",id:"main",children:[(0,W.jsx)("section",{className:"container-fluid product-premium-large d-flex justify-content-center align-items-center m-0 px-sm-0",children:Ee?(0,W.jsx)(c.Z,{animation:"border",variant:"light",className:"mx-auto my-6"}):(0,W.jsx)("div",{className:"p-0 w-100",children:(0,W.jsxs)("div",{className:"w-100 d-flex flex-column flex-lg-row container-lg  p-lg-4 px-0",children:[(0,W.jsxs)("div",{className:"w-100 p-lg-5 position-relative carousel-wrapper",children:[null!==Zn&&void 0!==Zn&&null!==(i=Zn.product)&&void 0!==i&&i.brand?(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(n=Zn.product)||void 0===n||null===(E=n.brand)||void 0===E||null===(O=E.logo)||void 0===O?void 0:O.imageURL,className:"brand-product px-1",alt:"..."}):null,(0,W.jsxs)(R.lr,{className:"slide position-unset",showStatus:!1,children:[(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(V=Zn.product)||void 0===V||null===(G=V.image)||void 0===G?void 0:G.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(Y=Zn.product)||void 0===Y||null===(q=Y.image1)||void 0===q?void 0:q.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===($=Zn.product)||void 0===$||null===(J=$.image2)||void 0===J?void 0:J.imageURL,className:"d-block w-100 px-1",alt:"..."})})]})]}),(0,W.jsxs)("div",{className:"w-100 d-flex flex-column justify-content-center product-card product-premium product-premium-large py-2 px-lg-5 mx-auto my-2 px-1",children:[(0,W.jsx)("div",{children:(0,W.jsx)("h1",{className:"mt-lg-5 px-1",children:null===Zn||void 0===Zn||null===(Q=Zn.product)||void 0===Q?void 0:Q.title})}),(0,W.jsx)("div",{children:(0,W.jsx)("h2",{children:null===Zn||void 0===Zn||null===(K=Zn.product)||void 0===K?void 0:K.subTitle})}),"enable"!==(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[(0,W.jsx)("p",{className:"mx-1 ".concat(vn?"description-product-clicked description-transition":"description-product-premium"),ref:is,style:{maxHeight:vn?"1000px":"60px",transition:"max-height 0.7s ease",whiteSpace:"pre-line"},children:null===Zn||void 0===Zn||null===(X=Zn.product)||void 0===X?void 0:X.description}),(0,W.jsx)("div",{style:{width:"50px",height:"50px"},children:Xn>=60?(0,W.jsx)(A.G,{className:"float-animation icon-hover",icon:vn?B.mTx:B.ptq,onClick:function(){if(mn(!vn),vn&&is.current&&window.innerWidth<=768){var e=document.getElementById("main");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},style:{color:"#6b6a6a",cursor:"pointer",fontSize:"20px",padding:"5px"}}):null})]}):null,(0,W.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2 py-1 w-100",children:[bn?null!==bn&&void 0!==bn&&null!==(ee=bn.bookmarks)&&void 0!==ee&&ee.some((function(e){return(null===e||void 0===e?void 0:e._id)===(null===Zn||void 0===Zn?void 0:Zn._id)}))?(0,W.jsxs)("div",{onClick:function(){return e=null===Zn||void 0===Zn?void 0:Zn._id,void(bn&&Mn((0,g.TG)({id:bn._id,data:{bookmark:e}})).then((function(){kn&&wn?wn&&b.Am.erreur("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,b.Am)(M,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon",style:{color:"#f9124e"}})," "]}):(0,W.jsxs)("div",{onClick:function(){return e=Zn._id,void(bn&&Mn((0,g.bl)({id:bn._id,data:{bookmark:e}})).then((function(){kn&&wn?wn&&b.Am.error("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,b.Am)(F,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}):(0,W.jsxs)("div",{onClick:function(){return jn("/")},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}),"enable"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsxs)("button",{style:{backgroundColor:"rgb(2, 202, 2)"},children:[(0,W.jsx)("i",{className:"icon-play mx-1"})," Ench\xe8re en cours"]}):"pending"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsxs)("button",{children:[(0,W.jsx)("i",{className:"icon-time mx-1"}),"Ench\xe8re en attente"]}):"finished"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsxs)("button",{style:{backgroundColor:"white",color:"black"},children:[(0,W.jsx)("i",{className:"icon-flag-checkered mx-1"}),"Ench\xe8re termin\xe9e"]}):(0,W.jsx)("button",{children:"Ench\xe8re d\xe9activ\xe9e"})]}),(0,W.jsxs)("div",{className:"product-details-card product-details-card-premium my-3",children:["enable"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsxs)("div",{className:"timer-wrapper",children:[(0,W.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,W.jsx)("div",{className:"price-promo",id:"price",children:Ye&&(0,W.jsx)("div",{className:"image-container",children:(0,W.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Qe?(0,W.jsx)("img",{className:"mx-2 last-mise-photo",src:Qe,alt:"last_user"}):null,(0,W.jsx)("p",{className:"text-container",children:Ye})]})})}),Pn&&Pn>0?(0,W.jsx)("div",{className:"user-remaining",id:"free-credit",children:(0,W.jsxs)("div",{className:"user-label",children:[(0,W.jsxs)("label",{className:"label-freeCredit",for:"free-credit",children:[(0,W.jsx)("span",{children:(0,W.jsx)("i",{className:"fi fi-rr-gift mx-2 small-icon",style:{color:"#02CA02"}})}),(0,W.jsx)("span",{className:"text-freeCredit",style:{color:"#02CA02"},children:"Bonus"})]}),(0,W.jsx)("div",{className:"text-remaining",children:(0,W.jsx)("p",{children:(0,W.jsxs)("span",{children:[Pn," Bitso"]})})})]})}):Pn<=0&&(0,W.jsx)("div",{className:"user-remaining free-credit-border",id:"free-credit",children:(0,W.jsxs)("div",{className:"user-label",children:[(0,W.jsxs)("label",{className:"label-freeCredit",for:"free-credit",children:[(0,W.jsx)("i",{class:"fi fi-rr-coins",style:{color:"#f9124e"}}),(0,W.jsxs)("span",{className:"text-freeCredit",style:{color:"#f9124e"},children:[" ","Cr\xe9dit"]})]}),(0,W.jsx)("div",{className:"text-remaining",children:(0,W.jsx)("p",{children:(0,W.jsxs)("span",{children:[On," Bitso"]})})})]})}),(0,W.jsx)("div",{className:"price-promo",id:"price",children:(0,W.jsxs)("label",{className:"label-price-promo",for:"price",children:[(0,W.jsxs)("span",{children:[(0,W.jsx)("i",{className:"fi fi-rr-coins mx-2"}),"Prix Promo"]}),(0,W.jsxs)("p",{children:[wi," DT"]})]})})]}),(0,W.jsxs)("div",{className:"btn w-100 counter-btn",ref:ns,children:[(0,W.jsxs)("span",{className:"timer-unit",children:[" ",cs(Vi).substring(0,2)]}),(0,W.jsx)("span",{className:"timer-unit",children:":"}),(0,W.jsx)("span",{className:"timer-unit",children:cs(Vi).substring(3,5)})]})]}):null,"enable"===(null===Zn||void 0===Zn?void 0:Zn.status)&&Me&&(null===Zn||void 0===Zn||null===(ie=Zn.directWinner)||void 0===ie?void 0:ie._id)!==(null===bn||void 0===bn?void 0:bn._id)?(0,W.jsxs)("div",{className:"btn mise-btn w-100 mb-lg-2 p-0  d-flex justify-content-between align-items-center edge-shadow-button",children:[(0,W.jsxs)("button",{onClick:function(){"Acheter un pack"===ms||"Choisir un pack"===ms?Mn((0,g.bF)()):bn&&(ni(!0),0===wi&&s.emit("firstClick",{room_id:Zn._id,lastUserId:null===bn||void 0===bn?void 0:bn._id,lastUserName:null===bn||void 0===bn?void 0:bn.username}),Bn>0&&s.emit("clickButton",{timeOfClick:new Date,userID:null===bn||void 0===bn?void 0:bn._id,roomID:null===Zn||void 0===Zn?void 0:Zn._id,remaining:Bn}),setTimeout((function(){ni(!1),ns.current.scrollIntoView({block:"center"})}),500))},disabled:ii,children:[ii&&(0,W.jsx)("div",{className:"spinner-border text-light mise-spinner",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Wn?(0,W.jsx)("div",{class:"spinner-border text-light mt-1",role:"status"}):ms]})," ",Pn?(0,W.jsxs)("button",{className:"credit-mise color-green",onClick:function(){return Mn((0,g.bF)())},children:[" ",(0,W.jsxs)("p",{className:"m-0",children:[" ",(0,W.jsx)("span",{style:{color:"white",fontWeight:"600"},children:yn?"Fermer":Fn&&Fn.packPurchases?Fn.packPurchases.filter((function(e){return!0===e.availability})).length:Wn?(0,W.jsx)(H.Z,{style:{color:"white"},size:12}):0}),(0,W.jsxs)("span",{className:"small-td",style:{textTransform:"uppercase",fontSize:"0.9rem"},children:[" ",yn?"":Fn&&Fn.packPurchases&&1===Fn.packPurchases.filter((function(e){return!0===e.availability})).length?"Pack":"Packs"]})]})]}):(0,W.jsx)("button",{className:"credit-mise bg-pink",onClick:function(){return Mn((0,g.bF)())},children:(0,W.jsxs)("p",{className:"m-0",children:[" ",(0,W.jsx)("span",{style:{color:"white",fontWeight:"600"},children:yn?"Fermer":Fn&&Fn.packPurchases?Fn.packPurchases.filter((function(e){return!0===e.availability})).length:Wn?(0,W.jsx)(H.Z,{style:{color:"white"},size:12}):0}),(0,W.jsxs)("span",{className:"small-td",style:{textTransform:"uppercase",fontSize:"0.9rem"},children:[" ",yn?"":Fn&&Fn.packPurchases&&1===Fn.packPurchases.filter((function(e){return!0===e.availability})).length?"Pack":"Packs"]})]})})]}):null,Ei&&Me&&!(null!==Zn&&void 0!==Zn&&Zn.directWinner)&&pn&&(0,W.jsxs)("button",{className:"btn btn-gold w-100 mt-3",onClick:function(){bn&&s.emit("buyProduct",{triggerBuy:!0,roomID:null===Zn||void 0===Zn?void 0:Zn._id,userID:null===bn||void 0===bn?void 0:bn._id})},children:[(0,W.jsx)("div",{style:{display:"inline-block",marginRight:"10px"},children:(0,W.jsx)(A.G,{icon:["fas","stopwatch"],className:"fa-shake",style:{fontSize:"20px"}})}),(0,W.jsx)("span",{style:{display:"inline-block"},children:"Vente flash"})]}),(0,W.jsxs)("div",{className:"product-table w-100",children:[(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-tags"}),(0,W.jsx)("p",{children:"Prix Original"})]}),(0,W.jsxs)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end prix-premium",children:[null===Zn||void 0===Zn||null===(ne=Zn.product)||void 0===ne?void 0:ne.prix," DT"]})]}),null!==Zn&&void 0!==Zn&&null!==(se=Zn.product)&&void 0!==se&&se.partner?(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-users"}),(0,W.jsx)("p",{children:"Partenaire"})]}),(0,W.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(le=Zn.product)||void 0===le||null===(oe=le.partner)||void 0===oe||null===(te=oe.image)||void 0===te?void 0:te.imageURL})})]}):null,(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-calendar"}),(0,W.jsx)("p",{children:"Date d\xe9but"})]}),(0,W.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,j.Z)(new Date(Zn?Zn.startDate:null),"dd/MM/yyyy  \xe0  HH:mm")})]}),(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-users-alt"}),(0,W.jsx)("p",{children:"Participation"})]}),(0,W.jsx)("div",{className:"col-6 position-relative",children:(0,W.jsx)("div",{className:"circle-wrap",children:(0,W.jsxs)("div",{className:"circle",children:[(0,W.jsx)("div",{className:"mask full",children:(0,W.jsx)("div",{className:"fill"})}),(0,W.jsx)("div",{className:"mask half",children:(0,W.jsx)("div",{className:"fill"})}),(0,W.jsxs)("div",{className:"inside-circle",children:[" ",Math.floor(xi/(null===Zn||void 0===Zn?void 0:Zn.capacity)*100),"%"," "]})]})})})]}),null!==Zn&&void 0!==Zn&&null!==(re=Zn.product)&&void 0!==re&&re.garantie?(0,W.jsxs)("div",{className:"row m-0 col-6",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("div",{className:"sprite sprite-icon-badge-garantie-red"}),(0,W.jsx)("p",{children:"Garantie"})]}),(0,W.jsxs)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:[null===Zn||void 0===Zn||null===(ce=Zn.product)||void 0===ce?void 0:ce.garantie," Mois"]})]}):null,(0,W.jsxs)("div",{className:"row m-0 col-6",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-gift"}),(0,W.jsx)("p",{children:"Bonus"})]}),(0,W.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"30 Bitso"})]}),(0,W.jsxs)("div",{className:"row m-0 border-bottom-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("div",{className:"sprite sprite-icon-badge-garantie-reduced-red"}),(0,W.jsx)("p",{children:"Type"})]}),(0,W.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"gold"===(null===Zn||void 0===Zn?void 0:Zn.niveau)?(0,W.jsx)("img",{src:y}):"silver"===(null===Zn||void 0===Zn?void 0:Zn.niveau)?(0,W.jsx)("img",{src:_}):(0,W.jsx)("img",{src:C})})]}),Math.floor(xi/(null===Zn||void 0===Zn?void 0:Zn.capacity)*100)>=100&&"pending"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsx)("div",{className:"remplie-section",children:(0,W.jsx)("div",{className:"remplie d-flex flex-column justify-content-center align-items-center",children:(0,W.jsxs)("p",{className:"premium-remplie",children:["Ench\xe8re remplie \xe0 ",(0,W.jsx)("span",{children:"100%"})]})})}):null,"pending"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsx)("div",{className:"row mx-0 border-bottom-0",children:(0,W.jsx)("div",{className:"col-md-12 mobile-fixed-btn d-flex justify-content-center align-items-center",children:!Oe&&Me&&Tn>=0&&Ln>=0&&Rn>=0&&An>=0?(0,W.jsx)("span",{className:"btn btn-product bg-pink countdown-btn",children:(0,W.jsx)(P.Z,{days:Tn,hours:Ln,minutes:Rn,seconds:An})}):Oe?(0,W.jsx)("div",{className:"spinner-border mx-auto ",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):null})}):null,"finished"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsx)("div",{children:(null===Zn||void 0===Zn||null===(ae=Zn.winner)||void 0===ae?void 0:ae._id)===(null===bn||void 0===bn?void 0:bn._id)?(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(de=Zn.winner)||void 0===de||null===(ue=de.profile_img)||void 0===ue?void 0:ue.imageURL}),(0,W.jsxs)("p",{children:["Vous avez remport\xe9 cette ench\xe8re au prix de"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===Zn||void 0===Zn||null===(ve=Zn.prixPromo)||void 0===ve?void 0:ve.toFixed(1)," DT"]})]})]})}):(null===Zn||void 0===Zn?void 0:Zn.winner)&&(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(me=Zn.winner)||void 0===me||null===(fe=me.profile_img)||void 0===fe?void 0:fe.imageURL}),(0,W.jsxs)("p",{children:["Remport\xe9e par ",null===Zn||void 0===Zn||null===(xe=Zn.winner)||void 0===xe?void 0:xe.username," \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===Zn||void 0===Zn||null===(pe=Zn.prixPromo)||void 0===pe?void 0:pe.toFixed(1)," DT"]})]})]})})}):null,"finished"===(null===Zn||void 0===Zn?void 0:Zn.status)||"enable"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsx)("div",{children:(null===Zn||void 0===Zn||null===(he=Zn.directWinner)||void 0===he?void 0:he._id)===(null===bn||void 0===bn?void 0:bn._id)&&bn?(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(je=Zn.directWinner)||void 0===je||null===(ge=je.profile_img)||void 0===ge?void 0:ge.imageURL}),(0,W.jsxs)("p",{children:["Vous avez achet\xe9 ce produit \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===Zn||void 0===Zn||null===(be=Zn.directPrice)||void 0===be?void 0:be.toFixed(1)," DT"]})]})]})}):(null===Zn||void 0===Zn?void 0:Zn.directWinner)&&(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===Zn||void 0===Zn||null===(Ne=Zn.directWinner)||void 0===Ne||null===(ke=Ne.profile_img)||void 0===ke?void 0:ke.imageURL}),(0,W.jsxs)("p",{children:[null===Zn||void 0===Zn||null===(we=Zn.directWinner)||void 0===we?void 0:we.username," a achet\xe9 le produit \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===Zn||void 0===Zn||null===(ye=Zn.directPrice)||void 0===ye?void 0:ye.toFixed(1)," DT"]})]})]})})}):null]})]}),"pending"===(null===Zn||void 0===Zn?void 0:Zn.status)?(0,W.jsx)("div",{children:Nn?(0,W.jsxs)("div",{children:[" ",!Oe&&!Me&&Math.floor(xi/(null===Zn||void 0===Zn?void 0:Zn.capacity)*100)<100?(0,W.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 ",children:(0,W.jsxs)("button",{className:"participation-button",onClick:function(){return an(!0)},children:["Participer \xe0"," ",(0,W.jsx)("b",{children:null===Zn||void 0===Zn?void 0:Zn.participationPrice})," DT"]})}):null]}):Math.floor(xi/(null===Zn||void 0===Zn?void 0:Zn.capacity)*100)<100?(0,W.jsx)(Z.rU,{className:"w-100 d-flex align-items-center justify-content-center",to:"/signin",children:(0,W.jsxs)("button",{className:"participation-button",children:["Participer \xe0 ",(0,W.jsx)("b",{children:null===Zn||void 0===Zn?void 0:Zn.participationPrice})," DT"]})}):null}):null]})]})})}),"enable"!==(null===Zn||void 0===Zn?void 0:Zn.status)&&(null===Pe||void 0===Pe?void 0:Pe.length)>0?(0,W.jsxs)("section",{className:"w-100 product-page-section p-lg-4 p-md-2 p-sm-0 d-flex justify-content-center align-items-center flex-column mb-4",children:[(0,W.jsx)("h2",{children:"Augmentez vos chances de gagner"}),Le?(0,W.jsx)(c.Z,{animation:"border",className:"mx-auto color-pink my-5"}):(0,W.jsx)("div",{className:"container",ref:ss,children:(0,W.jsx)(h.default,{swipeable:!0,slidesToSlide:1,autoPlay:!1,ssr:!1,draggable:!0,showDots:!1,responsive:z,infinite:!1,deviceType:e.deviceType,customRightArrow:(0,W.jsx)(x.Z,{}),customLeftArrow:(0,W.jsx)(p.Z,{}),renderDotsOutside:!1,shouldResetAutoplay:!1,children:Pe?Pe.map((function(e){return(0,W.jsx)(r.Z,{variant:"home",product:e},e._id)})):null})})]}):null]}),(0,W.jsx)(t.Z,{}),(0,W.jsx)(T.Z,{room:Zn,show:cn,onHide:function(){return an(!1)}}),(0,W.jsx)(a.Z,{show:Pi,winner:oi,loser:ai,room:Zn,user:null===bn||void 0===bn?void 0:bn._id,onHide:function(){Zi(!1),Gi(600)},winnerCallback:function(){return Zi(!1)}}),(0,W.jsx)(v.Z,{show:Li,counter:wi,onHide:function(){Zn&&s.emit("rejectPurchase",{roomID:Zn._id,userID:null===bn||void 0===bn?void 0:bn._id}),Ri(!1)},parentCallback:os,hidCallback:ts}),(0,W.jsx)(d.Z,{room:Zn,user:bn,socket:s,parentCallback:rs,show:$i,remaining:Bn}),(0,W.jsx)(f.Z,{show:gi,onHide:function(){return bi(!1)},freeCreditCallback:function(){return bi(!1)}}),(0,W.jsx)(u.Z,{show:Xi}),(0,W.jsx)(m.Z,{show:ln})]})}}}]);
//# sourceMappingURL=420.a289c09c.chunk.js.map