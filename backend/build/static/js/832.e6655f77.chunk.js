"use strict";(self.webpackChunk_soomy_soomy_electronic_auctions_web_site=self.webpackChunk_soomy_soomy_electronic_auctions_web_site||[]).push([[832],{96025:function(e,i,n){n.r(i);var s,l=n(70885),o=n(72791),t=n(82056),r=n(49335),c=n(24849),a=n(99463),d=n(33092),u=n(50723),v=n(50152),m=n(85246),f=n(69670),x=n(96400),p=n(80918),h=n(96766),j=(n(65141),n(8977)),g=n(57496),b=n(75985),N=n(10226),k=n(79168),w=n(67957),y=n(5976),_=n(25309),C=n(47960),P=n(29321),Z=n(43504),S=n(16871),D=n(59434),E=n(74569),I=n.n(E),U=n(29609),L=n(74387),R=n(56460),T=(n(88040),n(30197)),A=n(31363),B=n(11632),O=n(40942),H=n(96580),W=n(80184);O.vI.add(B.U$5);var F=function(){return(0,W.jsxs)("div",{children:[(0,W.jsx)("p",{children:"\u2b50 Ajout\xe9 aux favoris! "}),(0,W.jsxs)(Z.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},M=function(){return(0,W.jsxs)("div",{style:{textAlign:"center"},children:[(0,W.jsx)("p",{children:"\u2b50 supprim\xe9 des favoris! "}),(0,W.jsxs)(Z.rU,{style:{textDecoration:"none",color:"black",marginLeft:"10px"},to:"/profile/auctions",children:["Voir favoris"," "]})]})},z={superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:5},desktop:{breakpoint:{max:3e3,min:1400},items:4},tablet:{breakpoint:{max:1500,min:1100},items:3},mobile:{breakpoint:{max:1100,min:550},items:2},smallmobile:{breakpoint:{max:550,min:0},items:1}};i.default=function(e){var i,n,E,O,V,G,Y,q,$,J,Q,K,X,ee,ie,ne,se,le,oe,te,re,ce,ae,de,ue,ve,me,fe,xe,pe,he,je,ge,be,Ne,ke,we,ye,_e=(0,o.useState)(),Ce=(0,l.Z)(_e,2),Pe=Ce[0],Ze=Ce[1],Se=(0,o.useState)(!1),De=(0,l.Z)(Se,2),Ee=De[0],Ie=De[1],Ue=(0,o.useState)(!1),Le=(0,l.Z)(Ue,2),Re=Le[0],Te=Le[1],Ae=(0,o.useState)(!1),Be=(0,l.Z)(Ae,2),Oe=Be[0],He=Be[1],We=(0,o.useState)(null),Fe=(0,l.Z)(We,2),Me=Fe[0],ze=Fe[1],Ve=(0,o.useState)(""),Ge=(0,l.Z)(Ve,2),Ye=Ge[0],qe=Ge[1],$e=(0,o.useState)(""),Je=(0,l.Z)($e,2),Qe=Je[0],Ke=Je[1],Xe=(0,o.useState)(!1),ei=(0,l.Z)(Xe,2),ii=ei[0],ni=ei[1],si=(0,o.useState)(!1),li=(0,l.Z)(si,2),oi=li[0],ti=li[1],ri=(0,o.useState)(!1),ci=(0,l.Z)(ri,2),ai=ci[0],di=ci[1],ui=(0,o.useState)([]),vi=(0,l.Z)(ui,2),mi=(vi[0],vi[1],(0,o.useState)(0)),fi=(0,l.Z)(mi,2),xi=fi[0],pi=fi[1],hi=(0,o.useState)(!1),ji=(0,l.Z)(hi,2),gi=ji[0],bi=ji[1],Ni=(0,o.useState)(0),ki=(0,l.Z)(Ni,2),wi=ki[0],yi=ki[1],_i=(0,o.useState)(!1),Ci=(0,l.Z)(_i,2),Pi=Ci[0],Zi=Ci[1],Si=(0,o.useState)(!1),Di=(0,l.Z)(Si,2),Ei=(Di[0],Di[1]),Ii=(0,o.useState)(!1),Ui=(0,l.Z)(Ii,2),Li=Ui[0],Ri=Ui[1],Ti=(0,o.useState)(),Ai=(0,l.Z)(Ti,2),Bi=Ai[0],Oi=(Ai[1],(0,o.useState)("")),Hi=(0,l.Z)(Oi,2),Wi=(Hi[0],Hi[1]),Fi=(0,o.useState)(600),Mi=(0,l.Z)(Fi,2),zi=Mi[0],Vi=Mi[1],Gi=(0,o.useState)(!1),Yi=(0,l.Z)(Gi,2),qi=Yi[0],$i=Yi[1],Ji=(0,o.useState)(!1),Qi=(0,l.Z)(Ji,2),Ki=Qi[0],Xi=Qi[1],en=(0,o.useState)(!1),nn=(0,l.Z)(en,2),sn=nn[0],ln=nn[1],on=(0,o.useState)(!1),tn=(0,l.Z)(on,2),rn=tn[0],cn=tn[1],an=(0,o.useState)(!1),dn=(0,l.Z)(an,2),un=dn[0],vn=dn[1],mn=(0,S.s0)(),fn=(0,D.v9)((function(e){return e.user})),xn=fn.userInfo,pn=fn.isAuth,hn=(fn.montant,fn.updateBookmarksLoading),jn=fn.updateBookmarksErrors,gn=fn.showModal,bn=(0,D.v9)((function(e){return e.participation})),Nn=bn.participation,kn=bn.freeCredit,wn=(0,D.v9)((function(e){return e.room})).auction,yn=(0,D.v9)((function(e){return e.packUse})),_n=yn.packUse,Cn=(yn.isLoading,yn.error,yn.allPackUse),Pn=(0,w.a)(new Date(wn?wn.startDate:null)),Zn=(0,l.Z)(Pn,4),Sn=Zn[0],Dn=Zn[1],En=Zn[2],In=Zn[3],Un=_n?_n.remaining:null,Ln=(0,D.v9)((function(e){return e.packUse.remaining})),Rn=(0,D.v9)((function(e){return e.purchase})),Tn=Rn.updateLoading,An=(Rn.errors,Rn.purchasedPacks),Bn=(Rn.updatedPack,Rn.selectedPurchasedPack,Rn.updateErrors,(0,D.I0)()),On=(0,o.useState)(0),Hn=(0,l.Z)(On,2),Wn=(Hn[0],Hn[1]),Fn=(0,o.useState)(window.innerWidth),Mn=(0,l.Z)(Fn,2),zn=Mn[0],Vn=Mn[1],Gn=(0,o.useState)(0),Yn=(0,l.Z)(Gn,2),qn=Yn[0],$n=Yn[1],Jn=(0,o.useRef)(null);(0,o.useEffect)((function(){var e;$n(null===(e=Jn.current)||void 0===e?void 0:e.clientHeight)}));var Qn=(0,o.useRef)(null),Kn=(0,o.useRef)(null),Xn=(0,S.UO)().id;(0,o.useEffect)((function(){Bn((0,N.lO)(Xn))}),[Bn,Xn]),(0,o.useEffect)((function(){wn&&Sn<=0&&Dn<=0&&En<=0&&In<=0&&"pending"===wn.status&&100===Math.floor(xi/(null===wn||void 0===wn?void 0:wn.capacity)*100)&&Bn((0,N.R$)({id:null===wn||void 0===wn?void 0:wn._id,data:{status:"enable"}})).then((function(){Bn((0,N.fv)(null===wn||void 0===wn?void 0:wn._id))}))}),[Sn,Dn,En,In]),(0,o.useEffect)((function(){wn&&I().get("/participations/getNumberOfParticipations/".concat(null===wn||void 0===wn?void 0:wn._id)).then((function(e){return pi(e.data)}))}),[wn]),(0,o.useEffect)((function(){var e;if(s=(0,U.ZP)(),wn&&"enable"===wn.status&&xn&&_n)return s.emit("join",{user:null===xn||void 0===xn?void 0:xn.username,room:wn,remaining:null===_n||void 0===_n?void 0:_n.remaining,app_id:null===xn||void 0===xn?void 0:xn._id,photo:null===xn||void 0===xn||null===(e=xn.profile_img)||void 0===e?void 0:e.imageURL},(function(e){e&&console.log(e)})),s.emit("reset"),function(){s.disconnect()}}),[wn,_n,Un]),window.addEventListener("beforeunload",(function(e){if(wn&&"enable"===wn.status&&xn&&_n){s.on("userwelcomeback",(function(e){console.log("userwelcomeback:",e),Bn((0,k.Y4)(e.montant)),yi(e.counter),qe(e.user),Ei(e.control),Ke(e.photo)}));var i='\xcates-vous s\xfbr de vouloir quitter l"ench\xe9re?';return e.returnValue=i,i}})),(0,o.useEffect)((function(){xn&&wn&&(He(!0),I().get("/participations/getUserAndRoomParticipation/".concat(null===xn||void 0===xn?void 0:xn._id,"/").concat(null===wn||void 0===wn?void 0:wn._id)).then((function(e){var i;He(!1),ze(e.data),Bn((0,R.et)(null===(i=e.data)||void 0===i?void 0:i.freeCredit))})).catch((function(e){return He(!1)})))}),[Bn,xn,wn,Nn]),(0,o.useEffect)((function(){return xn&&wn&&(s.on("click",(function(e){yi(e.counter),qe(e.user),Wi(e.userId),Ke(e.photo)})),s.on("userwelcome",(function(e){Bn((0,k.Y4)(e.montant)),yi(e.counter),qe(e.user),Ei(e.control),Ke(e.photo)})),s.on("conflictingConnection",(function(e){e.roomID===wn._id&&$i(e.control)})),s.on("leaveConnection",(function(e){e.roomID===wn._id&&Xi(e.control)})),s.on("updateRoom",(function(e){e.roomID===wn._id&&Bn((0,N.fv)(e.roomID))})),s.on("buyProduct",(function(e){e.winner===xn._id&&Ri(e.directBuyTrigger),Ei(e.control)})),s.on("winner",(function(e){ti(!0),Bn((0,g.vr)()),bi(!1),Zi(e.flag),Bn((0,N.fv)(wn._id))})),s.on("lost",(function(e){di(!0),Bn((0,g.vr)()),bi(!1),Zi(e.flag),Bn((0,N.fv)(wn._id))})),s.on("neutral",(function(e){Zi(e.flag),Bn((0,g.vr)()),bi(!1),Bn((0,N.fv)(wn._id))})),s.on("userjoin",(function(e){yi(e.counter),qe(e.user),Ke(e.photo)})),s.on("timer",(function(e){Vi(e.countdown)})),s.on("updatecounter",(function(e){Bn((0,k.Y4)(e.montant))})),s.on("updateFreeCredit",(function(e){Bn((0,R.et)(e.freeCredit)),0===e.freeCredit&&bi(!0)}))),function(){s.off("click"),s.off("updateRoom"),s.off("userwelcome"),s.off("updatecounter"),s.off("updateFreeCredit"),s.off("userjoin"),s.off("winner"),s.off("lost"),s.off("neutral"),s.off("leaveConnection"),s.off("timer"),s.off("directPurchase"),s.off("conflictingConnection"),s.off("userwelcomeback")}}),[wn,Un,xn]),(0,o.useEffect)((function(){s.on("timer",(function(e){Vi(e.countdown)}))}));var es=(0,o.useCallback)((function(e,i){s.emit("validatePurchase",{roomID:e,userID:i})}),[]),is=(0,o.useCallback)((function(){wn&&s.emit("rejectPurchase",{roomID:wn._id,userID:null===xn||void 0===xn?void 0:xn._id}),Ri(!1)}),[]);(0,o.useLayoutEffect)((function(){var e,i;Wn(null===(e=Kn.current)||void 0===e?void 0:e.offsetWidth),$n(null===(i=Kn.current)||void 0===i?void 0:i.offsetHeight)}),[Kn.current,Bi,zn]);var ns=(0,o.useCallback)((function(e){$i(e)}),[]);function ss(e){var i=new Date(1e3*e),n=i.getUTCMinutes(),s=i.getSeconds();return n.toString().padStart(2,"0")+":"+s.toString().padStart(2,"0")}(0,o.useEffect)((function(){window.addEventListener("resize",(function(){return Vn(window.innerWidth)}))}),[]),(0,o.useEffect)((function(){Ie(!0),Bn((0,N.fv)(Xn)).then((function(e){return Ie(!1)})).catch((function(e){return Ie(!1)}))}),[Xn]),(0,o.useEffect)((function(){var e,i;wn&&(Te(!0),I().get("/rooms/getAuctionsByCategory/".concat(null===wn||void 0===wn||null===(e=wn.product)||void 0===e||null===(i=e.category)||void 0===i?void 0:i._id)).then((function(e){var i;Te(!1);var n=null===e||void 0===e||null===(i=e.data)||void 0===i?void 0:i.filter((function(e){return(null===e||void 0===e?void 0:e._id)!==(null===wn||void 0===wn?void 0:wn._id)}));Ze(n),Te(!1)})))}),[wn]);(0,o.useEffect)((function(){Me&&!0===Me.ban&&ln(!0)}),[Me]),(0,o.useEffect)((function(){return function(){Bn((0,N.NE)()),Bn((0,N.GJ)()),Bn((0,R.et)(0))}}),[]);var ls=null===wn||void 0===wn?void 0:wn.status,os=xn&&xn._id;(0,o.useEffect)((function(){os&&"enable"===ls&&Bn((0,k.RQ)({roomId:Xn,userid:os}))}),[Bn,Xn,os,ls]),(0,o.useEffect)((function(){os&&"enable"===ls&&(null===_n?Bn(null===An?(0,g.vE)(0):(0,g.vE)(1)):console.log("Pack s\xe9lectionn\xe9 trouv\xe9 pour cette ench\xe9re"))}),[Bn,os,ls,_n]);var ts=(0,o.useState)(""),rs=(0,l.Z)(ts,2),cs=rs[0],as=rs[1];(0,o.useEffect)((function(){"enable"===(null===wn||void 0===wn?void 0:wn.status)&&_n&&((null===_n||void 0===_n?void 0:_n.remaining)<(null===wn||void 0===wn?void 0:wn.mise)&&Bn((0,k.e0)({packUseId:_n._id,payload:{user_id:null===xn||void 0===xn?void 0:xn._id,room_id:Xn,selectedPurchasedPack_Id:_n.selectedPurchasedPack_Id}})).then((function(){Bn((0,k.TS)({roomId:Xn,userId:null===xn||void 0===xn?void 0:xn._id}))})))}),[null===_n||void 0===_n?void 0:_n.remaining]),(0,o.useEffect)((function(){var e,i,n,s;null!==Un&&Un<(null===wn||void 0===wn?void 0:wn.mise)||Ln<(null===wn||void 0===wn?void 0:wn.mise)?null===An||(null!==(e=null===An||void 0===An||null===(i=An.packPurchases)||void 0===i?void 0:i.length)&&void 0!==e?e:0)===(null!==(n=null===Cn||void 0===Cn?void 0:Cn.length)&&void 0!==n?n:0)||null!==An&&void 0!==An&&null!==(s=An.packPurchases)&&void 0!==s&&s.every((function(e){return!1===e.availability}))?(as("Acheter un pack"),Bn((0,g.vE)(0))):as("Choisir un pack"):null!==Un&&Un>=(null===wn||void 0===wn?void 0:wn.mise)||Ln>=(null===wn||void 0===wn?void 0:wn.mise)?0===wi?as("Premi\xe9re mise +".concat(null===wn||void 0===wn?void 0:wn.mise," Bitso")):wi>0&&as("Miser +".concat(null===wn||void 0===wn?void 0:wn.mise," Bitso")):null!==Un&&null!==Ln||(null===An?(as("Acheter un pack"),Bn((0,g.vE)(0))):null!==An&&null===_n&&as("Choisir un pack"))}),[Un,wn,An,_n,wi,Ln]);return(0,W.jsxs)("div",{children:[(0,W.jsxs)("main",{className:"d-flex flex-column justify-content-center align-items-center",id:"main",children:[(0,W.jsx)("section",{className:"container-fluid product-large d-flex justify-content-center align-items-center m-0 px-sm-0",children:Ee?(0,W.jsx)(c.Z,{animation:"border",variant:"light",className:"mx-auto my-6"}):(0,W.jsx)("div",{className:"p-0 w-100",children:(0,W.jsxs)("div",{className:"w-100 d-flex flex-column flex-lg-row container-lg  p-lg-4 px-0",children:[(0,W.jsxs)("div",{className:"w-100 p-lg-5 position-relative carousel-wrapper",children:[null!==wn&&void 0!==wn&&null!==(i=wn.product)&&void 0!==i&&i.brand?(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(n=wn.product)||void 0===n||null===(E=n.brand)||void 0===E||null===(O=E.logo)||void 0===O?void 0:O.imageURL,className:"brand-product px-1",alt:"..."}):null,(0,W.jsxs)(T.lr,{className:"slide position-unset",showStatus:!1,children:[(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(V=wn.product)||void 0===V||null===(G=V.image)||void 0===G?void 0:G.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(Y=wn.product)||void 0===Y||null===(q=Y.image1)||void 0===q?void 0:q.imageURL,className:"d-block w-100 px-1",alt:"..."})}),(0,W.jsx)("div",{children:(0,W.jsx)("img",{src:null===wn||void 0===wn||null===($=wn.product)||void 0===$||null===(J=$.image2)||void 0===J?void 0:J.imageURL,className:"d-block w-100 px-1",alt:"..."})})]})]}),(0,W.jsxs)("div",{className:"w-100 d-flex flex-column justify-content-center product-card product product-large py-2 px-lg-5 mx-auto my-2 px-1",children:[(0,W.jsx)("div",{children:(0,W.jsx)("h1",{className:"mt-lg-5 px-1",children:null===wn||void 0===wn||null===(Q=wn.product)||void 0===Q?void 0:Q.title})}),(0,W.jsx)("div",{children:(0,W.jsx)("h2",{children:null===wn||void 0===wn||null===(K=wn.product)||void 0===K?void 0:K.subTitle})}),"enable"!==(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsxs)("div",{className:"d-flex justify-content-center align-items-center flex-column",children:[(0,W.jsx)("p",{className:"mx-1 ".concat(un?"description-product-clicked description-transition":"description-product"),ref:Jn,style:{maxHeight:un?"1000px":"60px",transition:"max-height 0.7s ease",whiteSpace:"pre-line"},children:null===wn||void 0===wn||null===(X=wn.product)||void 0===X?void 0:X.description}),(0,W.jsx)("div",{style:{width:"50px",height:"50px"},children:qn>=60?(0,W.jsx)(A.G,{className:"float-animation icon-hover",icon:un?B.mTx:B.ptq,onClick:function(){if(vn(!un),un&&Jn.current&&window.innerWidth<=768){var e=document.getElementById("main");e&&e.scrollIntoView({behavior:"smooth",block:"start"})}},style:{color:"#6b6a6a",cursor:"pointer",fontSize:"20px",padding:"5px"}}):null})]}):null,(0,W.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-2 py-1 w-100",children:[xn?null!==xn&&void 0!==xn&&null!==(ee=xn.bookmarks)&&void 0!==ee&&ee.some((function(e){return(null===e||void 0===e?void 0:e._id)===(null===wn||void 0===wn?void 0:wn._id)}))?(0,W.jsxs)("div",{onClick:function(){return e=null===wn||void 0===wn?void 0:wn._id,void(xn&&Bn((0,g.TG)({id:xn._id,data:{bookmark:e}})).then((function(){hn&&jn?jn&&b.Am.erreur("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,b.Am)(M,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon",style:{color:"#f9124e"}})," "]}):(0,W.jsxs)("div",{onClick:function(){return e=wn._id,void(xn&&Bn((0,g.bl)({id:xn._id,data:{bookmark:e}})).then((function(){hn&&jn?jn&&b.Am.error("erreur!",{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0}):(0,b.Am)(F,{position:"top-center",autoClose:1e4,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})})));var e},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}):(0,W.jsxs)("div",{onClick:function(){return mn("/")},children:[" ",(0,W.jsx)("i",{className:"fi fi-rr-bookmark bookmark hover-icon"})," "]}),"enable"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsxs)("button",{style:{backgroundColor:"rgb(2, 202, 2)"},children:[(0,W.jsx)("i",{className:"icon-play mx-1"})," Ench\xe8re en cours"]}):"pending"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsxs)("button",{children:[(0,W.jsx)("i",{className:"icon-time mx-1"}),"Ench\xe8re en attente"]}):"finished"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsxs)("button",{style:{backgroundColor:"black",color:"white"},children:[(0,W.jsx)("i",{className:"icon-flag-checkered mx-1"}),"Ench\xe8re termin\xe9e"]}):(0,W.jsx)("button",{children:"Ench\xe8re d\xe9activ\xe9e"})]}),(0,W.jsxs)("div",{className:"product-details-card my-3",children:["enable"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsxs)("div",{className:"timer-wrapper",children:[(0,W.jsxs)("div",{className:"d-flex justify-content-between align-items-center w-100",children:[(0,W.jsx)("div",{className:"price-promo",id:"price",children:Ye&&(0,W.jsx)("div",{className:"image-container",children:(0,W.jsxs)("div",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Qe?(0,W.jsx)("img",{className:"mx-2 last-mise-photo",src:Qe,alt:"last_user"}):null,(0,W.jsx)("p",{className:"text-container",children:Ye})]})})}),kn&&kn>0?(0,W.jsx)("div",{className:"user-remaining",id:"free-credit",children:(0,W.jsxs)("div",{className:"user-label",children:[(0,W.jsxs)("label",{className:"label-freeCredit",for:"free-credit",children:[(0,W.jsx)("span",{children:(0,W.jsx)("i",{className:"fi fi-rr-gift mx-2 small-icon",style:{color:"#02CA02"}})}),(0,W.jsx)("span",{className:"text-freeCredit",style:{color:"#02CA02"},children:"Bonus"})]}),(0,W.jsx)("div",{className:"text-remaining",children:(0,W.jsx)("p",{children:(0,W.jsxs)("span",{children:[kn," Bitso"]})})})]})}):kn<=0&&(0,W.jsx)("div",{className:"user-remaining free-credit-border",id:"free-credit",children:(0,W.jsxs)("div",{className:"user-label",children:[(0,W.jsxs)("label",{className:"label-freeCredit",for:"free-credit",children:[(0,W.jsx)("i",{class:"fi fi-rr-coins",style:{color:"#f9124e"}}),(0,W.jsxs)("span",{className:"text-freeCredit",style:{color:"#f9124e"},children:[" ","Cr\xe9dit"]})]}),(0,W.jsx)("div",{className:"text-remaining",children:(0,W.jsx)("p",{children:(0,W.jsxs)("span",{children:[Ln," Bitso"]})})})]})}),(0,W.jsx)("div",{className:"price-promo",id:"price",children:(0,W.jsxs)("label",{className:"label-price-promo",for:"price",children:[(0,W.jsxs)("span",{children:[(0,W.jsx)("i",{className:"fi fi-rr-coins mx-2"}),"Prix Promo"]}),(0,W.jsxs)("p",{children:[wi," DT"]})]})})]}),(0,W.jsxs)("div",{className:"btn w-100 counter-btn",ref:Qn,children:[(0,W.jsxs)("span",{className:"timer-unit",children:[" ",ss(zi).substring(0,2)]}),(0,W.jsx)("span",{className:"timer-unit",children:":"}),(0,W.jsx)("span",{className:"timer-unit",children:ss(zi).substring(3,5)})]})]}):null,"enable"===(null===wn||void 0===wn?void 0:wn.status)&&Me&&(null===wn||void 0===wn||null===(ie=wn.directWinner)||void 0===ie?void 0:ie._id)!==(null===xn||void 0===xn?void 0:xn._id)?(0,W.jsxs)("div",{className:"btn mise-btn w-100 mb-lg-2 p-0  d-flex justify-content-between align-items-center edge-shadow-button",children:[(0,W.jsxs)("button",{onClick:function(){"Acheter un pack"===cs||"Choisir un pack"===cs?Bn((0,g.bF)()):xn&&(ni(!0),0===wi&&s.emit("firstClick",{room_id:wn._id,lastUserId:null===xn||void 0===xn?void 0:xn._id,lastUserName:null===xn||void 0===xn?void 0:xn.username}),Un>0&&s.emit("clickButton",{timeOfClick:new Date,userID:null===xn||void 0===xn?void 0:xn._id,roomID:null===wn||void 0===wn?void 0:wn._id,remaining:Un}),setTimeout((function(){ni(!1),Qn.current.scrollIntoView({block:"center"})}),500))},disabled:ii,children:[ii&&(0,W.jsx)("div",{className:"spinner-border text-light mise-spinner",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),Tn?(0,W.jsx)("div",{class:"spinner-border text-light mt-1",role:"status"}):cs]})," ",kn?(0,W.jsx)("button",{className:"credit-mise color-green",onClick:function(){return Bn((0,g.bF)())},children:(0,W.jsxs)("p",{className:"m-0",children:[" ",(0,W.jsx)("span",{style:{color:"white",fontWeight:"600"},children:gn?"Fermer":An&&An.packPurchases?An.packPurchases.filter((function(e){return!0===e.availability})).length:Tn?(0,W.jsx)(H.Z,{style:{color:"white"},size:12}):0}),(0,W.jsxs)("span",{className:"small-td",style:{textTransform:"uppercase",fontSize:"0.9rem"},children:[" ",gn?"":An&&An.packPurchases&&1===An.packPurchases.filter((function(e){return!0===e.availability})).length?"Pack":"Packs"]})]})}):(0,W.jsx)("button",{className:"credit-mise bg-pink",onClick:function(){return Bn((0,g.bF)())},children:(0,W.jsxs)("p",{className:"m-0",children:[" ",(0,W.jsx)("span",{style:{color:"white",fontWeight:"600"},children:gn?"Fermer":An&&An.packPurchases?An.packPurchases.filter((function(e){return!0===e.availability})).length:Tn?(0,W.jsx)(H.Z,{style:{color:"white"},size:12}):0}),(0,W.jsxs)("span",{className:"small-td",style:{textTransform:"uppercase",fontSize:"0.9rem"},children:[" ",gn?"":An&&An.packPurchases&&1===An.packPurchases.filter((function(e){return!0===e.availability})).length?"Pack":"Packs"]})]})})]}):null,(0,W.jsxs)("div",{className:"product-table w-100",children:[(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-tags"}),(0,W.jsx)("p",{children:"Prix Original"})]}),(0,W.jsxs)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:[null===wn||void 0===wn||null===(ne=wn.product)||void 0===ne?void 0:ne.prix," DT"]})]}),null!==wn&&void 0!==wn&&null!==(se=wn.product)&&void 0!==se&&se.partner?(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-users"}),(0,W.jsx)("p",{children:"Partenaire"})]}),(0,W.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(le=wn.product)||void 0===le||null===(oe=le.partner)||void 0===oe||null===(te=oe.image)||void 0===te?void 0:te.imageURL})})]}):null,(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-calendar"}),(0,W.jsx)("p",{children:"Date d\xe9but"})]}),(0,W.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:(0,j.Z)(new Date(wn?wn.startDate:null),"dd/MM/yyyy  \xe0  HH:mm")})]}),(0,W.jsxs)("div",{className:"row m-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-users-alt"}),(0,W.jsx)("p",{children:"Participation"})]}),(0,W.jsx)("div",{className:"col-6 position-relative",children:(0,W.jsx)("div",{className:"circle-wrap",children:(0,W.jsxs)("div",{className:"circle",children:[(0,W.jsx)("div",{className:"mask full",children:(0,W.jsx)("div",{className:"fill"})}),(0,W.jsx)("div",{className:"mask half",children:(0,W.jsx)("div",{className:"fill"})}),(0,W.jsxs)("div",{className:"inside-circle",children:[" ",Math.floor(xi/(null===wn||void 0===wn?void 0:wn.capacity)*100),"%"," "]})]})})})]}),null!==wn&&void 0!==wn&&null!==(re=wn.product)&&void 0!==re&&re.garantie?(0,W.jsxs)("div",{className:"row m-0 col-6",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("div",{className:"sprite sprite-icon-badge-garantie-red"}),(0,W.jsx)("p",{children:"Garantie"})]}),(0,W.jsxs)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:[null===wn||void 0===wn||null===(ce=wn.product)||void 0===ce?void 0:ce.garantie," Mois"]})]}):null,(0,W.jsxs)("div",{className:"row m-0 col-6",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("i",{className:"fi fi-rr-gift"}),(0,W.jsx)("p",{children:"Bonus"})]}),(0,W.jsx)("p",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"15 Bitso"})]}),(0,W.jsxs)("div",{className:"row m-0 border-bottom-0",children:[(0,W.jsxs)("div",{className:"d-flex col-6",children:[(0,W.jsx)("div",{className:"sprite sprite-icon-badge-garantie-reduced-red"}),(0,W.jsx)("p",{children:"Type"})]}),(0,W.jsx)("div",{className:"col-6 text-end d-flex align-items-center justify-content-end",children:"gold"===(null===wn||void 0===wn?void 0:wn.niveau)?(0,W.jsx)("img",{src:y}):"silver"===(null===wn||void 0===wn?void 0:wn.niveau)?(0,W.jsx)("img",{src:_}):(0,W.jsx)("img",{src:C})})]}),Math.floor(xi/(null===wn||void 0===wn?void 0:wn.capacity)*100)>=100&&"pending"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsx)("div",{className:"remplie-section",children:(0,W.jsx)("div",{className:"remplie d-flex flex-column justify-content-center align-items-center",children:(0,W.jsxs)("p",{children:["Ench\xe8re remplie \xe0 ",(0,W.jsx)("span",{children:"100%"})]})})}):null,"pending"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsx)("div",{className:"row mx-0 border-bottom-0",children:(0,W.jsx)("div",{className:"col-md-12 mobile-fixed-btn d-flex justify-content-center align-items-center",children:!Oe&&Me&&Sn>=0&&Dn>=0&&En>=0&&In>=0?(0,W.jsx)("span",{className:"btn btn-product bg-pink countdown-btn",children:(0,W.jsx)(P.Z,{days:Sn,hours:Dn,minutes:En,seconds:In})}):Oe?(0,W.jsx)("div",{className:"spinner-border mx-auto ",role:"status",children:(0,W.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):null})}):null,"finished"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsx)("div",{children:(null===wn||void 0===wn||null===(ae=wn.winner)||void 0===ae?void 0:ae._id)===(null===xn||void 0===xn?void 0:xn._id)?(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(de=wn.winner)||void 0===de||null===(ue=de.profile_img)||void 0===ue?void 0:ue.imageURL}),(0,W.jsxs)("p",{children:["Vous avez remport\xe9 cette ench\xe8re au prix de"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===wn||void 0===wn||null===(ve=wn.prixPromo)||void 0===ve?void 0:ve.toFixed(1)," DT"]})]})]})}):(null===wn||void 0===wn?void 0:wn.winner)&&(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(me=wn.winner)||void 0===me||null===(fe=me.profile_img)||void 0===fe?void 0:fe.imageURL}),(0,W.jsxs)("p",{children:["Remport\xe9e par ",null===wn||void 0===wn||null===(xe=wn.winner)||void 0===xe?void 0:xe.username," \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===wn||void 0===wn||null===(pe=wn.prixPromo)||void 0===pe?void 0:pe.toFixed(1)," DT"]})]})]})})}):null,"finished"===(null===wn||void 0===wn?void 0:wn.status)||"enable"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsx)("div",{children:(null===wn||void 0===wn||null===(he=wn.directWinner)||void 0===he?void 0:he._id)===(null===xn||void 0===xn?void 0:xn._id)&&xn?(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(je=wn.directWinner)||void 0===je||null===(ge=je.profile_img)||void 0===ge?void 0:ge.imageURL}),(0,W.jsxs)("p",{children:["Vous avez achet\xe9 ce produit \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===wn||void 0===wn||null===(be=wn.directPrice)||void 0===be?void 0:be.toFixed(1)," DT"]})]})]})}):(null===wn||void 0===wn?void 0:wn.directWinner)&&(0,W.jsx)("div",{className:"winner-section",children:(0,W.jsxs)("div",{className:"winner d-flex flex-column justify-content-center align-items-center",children:[(0,W.jsx)("img",{src:null===wn||void 0===wn||null===(Ne=wn.directWinner)||void 0===Ne||null===(ke=Ne.profile_img)||void 0===ke?void 0:ke.imageURL}),(0,W.jsxs)("p",{children:[null===wn||void 0===wn||null===(we=wn.directWinner)||void 0===we?void 0:we.username," a achet\xe9 le produit \xe0"," ",(0,W.jsxs)("span",{className:"winner-price",children:[null===wn||void 0===wn||null===(ye=wn.directPrice)||void 0===ye?void 0:ye.toFixed(1)," DT"]})]})]})})}):null]})]}),"pending"===(null===wn||void 0===wn?void 0:wn.status)?(0,W.jsx)("div",{children:pn?(0,W.jsxs)("div",{children:[" ",!Oe&&!Me&&Math.floor(xi/(null===wn||void 0===wn?void 0:wn.capacity)*100)<100?(0,W.jsx)("div",{className:"d-flex align-items-center justify-content-center w-100 ",children:(0,W.jsxs)("button",{className:"participation-button",onClick:function(){return cn(!0)},children:["Participer \xe0"," ",(0,W.jsx)("b",{children:null===wn||void 0===wn?void 0:wn.participationPrice})," DT"]})}):null]}):Math.floor(xi/(null===wn||void 0===wn?void 0:wn.capacity)*100)<100?(0,W.jsx)(Z.rU,{className:"w-100 d-flex align-items-center justify-content-center",to:"/signin",children:(0,W.jsxs)("button",{className:"participation-button",children:["Participer \xe0 ",(0,W.jsx)("b",{children:null===wn||void 0===wn?void 0:wn.participationPrice})," DT"]})}):null}):null]})]})})}),"enable"!==(null===wn||void 0===wn?void 0:wn.status)&&(null===Pe||void 0===Pe?void 0:Pe.length)>0?(0,W.jsxs)("section",{className:"w-100 product-page-section p-lg-4 p-md-2 p-sm-0 d-flex justify-content-center align-items-center flex-column mb-4",children:[(0,W.jsx)("h2",{children:"Augmentez vos chances de gagner"}),Re?(0,W.jsx)(c.Z,{animation:"border",className:"mx-auto color-pink my-5"}):(0,W.jsx)("div",{className:"container",ref:Kn,children:(0,W.jsx)(h.default,{swipeable:!0,slidesToSlide:1,autoPlay:!1,ssr:!1,draggable:!0,showDots:!1,responsive:z,infinite:!1,deviceType:e.deviceType,customRightArrow:(0,W.jsx)(x.Z,{}),customLeftArrow:(0,W.jsx)(p.Z,{}),renderDotsOutside:!1,shouldResetAutoplay:!1,children:Pe?Pe.map((function(e){return(0,W.jsx)(r.Z,{variant:"home",product:e},e._id)})):null})})]}):null]}),(0,W.jsx)(t.Z,{}),(0,W.jsx)(L.Z,{room:wn,show:rn,onHide:function(){return cn(!1)}}),(0,W.jsx)(a.Z,{show:Pi,winner:oi,loser:ai,room:wn,user:null===xn||void 0===xn?void 0:xn._id,onHide:function(){Zi(!1),Vi(600)},winnerCallback:function(){return Zi(!1)}}),(0,W.jsx)(v.Z,{show:Li,counter:wi,onHide:function(){wn&&s.emit("rejectPurchase",{roomID:wn._id,userID:null===xn||void 0===xn?void 0:xn._id}),Ri(!1)},parentCallback:es,hidCallback:is}),(0,W.jsx)(d.Z,{room:wn,user:xn,socket:s,parentCallback:ns,show:qi,remaining:Un}),(0,W.jsx)(f.Z,{show:gi,onHide:function(){return bi(!1)},freeCreditCallback:function(){return bi(!1)}}),(0,W.jsx)(u.Z,{show:Ki}),(0,W.jsx)(m.Z,{show:sn})]})}}}]);
//# sourceMappingURL=832.e6655f77.chunk.js.map