{"version":3,"file":"static/js/769.e3a59d06.chunk.js","mappings":"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","sources":["views/pages/register/Phone.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Footer from \"../../../components/footer/Footer\";\nimport { Link } from \"react-router-dom\";\nimport CIcon from \"@coreui/icons-react\";\nimport axios from \"axios\";\nimport { cilCheckCircle } from \"@coreui/icons\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport Alert from \"@mui/material/Alert\";\nimport { useNavigate } from \"react-router-dom\";\nimport { getUser } from \"../../../redux/userSlice\";\nconst Register = () => {\n  const [userInput, setUserInput] = useState({});\n  const [validation, setValidation] = useState({});\n  const [toggle, setToggle] = useState(true);\n  const [toggle2, setToggle2] = useState(false);\n  const [toggle3, setToggle3] = useState(false);\n  const [error, setError] = useState(null);\n  const [errorVerif, setErrorVerif] = useState(null);\n  const { userInfo } = useSelector((state) => state.user);\n  const navigate = useNavigate();\n  const dispatch = useDispatch();\n  const getUserInfo = (e) => {\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\n  };\n  function sendData(e) {\n    e.preventDefault(e);\n    axios\n      .post(\"/users/sendMessage\", userInput, {\n        withCredentials: true,\n      })\n      .then((res) => {\n        setToggle(false);\n        setToggle2(true);\n        setToggle3(false);\n      })\n      .catch((err) => {\n        setError(err?.response?.data?.msg);\n      });\n  }\n  function sendCode(e) {\n    e.preventDefault(e);\n\n    axios\n      .post(\"/users/validate\", validation, {\n        withCredentials: true,\n      })\n      .then(() => {\n        dispatch(getUser());\n        setToggle(false);\n        setToggle2(false);\n        setToggle3(true);\n      })\n      .catch((err) => {\n        setErrorVerif(err?.response?.data?.msg);\n      });\n  }\n\n  return (\n    <div>\n      <main className=\"d-flex flex-column justify-content-center align-items-center register p-lg-5 \">\n        <div className=\"container p-4 edge-shadow-connect  d-flex justify-content-center align-items-center flex-column\">\n          <form\n            className={`row g-3 mt-4 mx-lg-5 mx-auto px-2 ${\n              !toggle && \"d-none\"\n            }`}\n            onSubmit={(e) => sendData(e)}\n          >\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input w-100 my-1\">\n                <label for=\"validationServerUsername\" className=\"form-label\">\n                  Numéro de Téléphone\n                </label>\n                <div className=\"input-group has-validation\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"phone\"\n                    id=\"validationServerUsername\"\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\n                    onChange={(e) => getUserInfo(e)}\n                    required\n                  />\n                  <div\n                    id=\"validationServerUsernameFeedback\"\n                    className=\"invalid-feedback\"\n                  >\n                    Please choose a username.\n                  </div>\n                </div>\n\n                {error ? (\n                  <Alert className=\"mt-2\" severity=\"error\">\n                    {error}\n                  </Alert>\n                ) : null}\n              </div>\n            </div>\n            <div className=\"col-12 d-flex justify-content-center align-items-center\">\n              <button className=\"btn btn-register my-3\" type=\"submit\">\n                Recevoir code\n              </button>\n            </div>\n          </form>\n          <form\n            className={`row g-3 mt-4 mx-lg-5 mx-auto px-2 ${\n              !toggle2 && \"d-none\"\n            }`}\n            onSubmit={(e) => sendCode(e)}\n          >\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input w-100 my-1\">\n                <label for=\"validationServerUsername\" className=\"form-label\">\n                  Veuillez saisir le code de vérification\n                </label>\n                <div className=\"input-group has-validation\">\n                  <input\n                    type=\"text\"\n                    className=\"form-control\"\n                    name=\"validation\"\n                    id=\"validationServerUsername\"\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\n                    onChange={(e) =>\n                      setValidation({ validation: e.target.value })\n                    }\n                    required\n                  />\n                  <div\n                    id=\"validationServerUsernameFeedback\"\n                    className=\"invalid-feedback\"\n                  >\n                    Please choose a username.\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12 d-flex justify-content-center align-items-center\">\n              <button\n                className=\"btn btn-register mx-1 my-3\"\n                onClick={() => {\n                  setToggle(true);\n                  setToggle2(false);\n                  setToggle3(false);\n                }}\n              >\n                Retour\n              </button>\n              <button className=\"btn btn-register mx-1 my-3\" type=\"submit\">\n                Envoyer\n              </button>\n            </div>\n            {errorVerif ? (\n              <Alert className=\"mt-2\" severity=\"error\">\n                {errorVerif}\n              </Alert>\n            ) : null}\n          </form>\n          <div\n            className={`row g-3 my-4 mx-lg-5 mx-auto px-2 succes-validation ${\n              !toggle3 && \"d-none\"\n            }`}\n          >\n            <div className=\"text-center my-3 d-flex flex-column justify-content-center align-items-center\">\n              <CIcon\n                icon={cilCheckCircle}\n                fontSize={50}\n                height={70}\n                width={70}\n              />{\" \"}\n              <p className=\"mt-4\">Votre compte a été verifié avec succès</p>\n            </div>\n            <Link to={\"/\"} className=\"mx-auto w-50\">\n              <button className=\"btn btn-register mx-auto w-100\">\n                aller à la page d'accueil\n              </button>\n            </Link>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["useState","userInput","setUserInput","validation","setValidation","toggle","setToggle","toggle2","setToggle2","toggle3","setToggle3","error","setError","errorVerif","setErrorVerif","dispatch","useSelector","state","user","userInfo","useNavigate","useDispatch","className","onSubmit","e","preventDefault","axios","withCredentials","then","res","catch","err","response","data","msg","sendData","for","type","name","id","onChange","target","value","getUserInfo","required","severity","getUser","sendCode","onClick","icon","cilCheckCircle","fontSize","height","width","to"],"sourceRoot":""}