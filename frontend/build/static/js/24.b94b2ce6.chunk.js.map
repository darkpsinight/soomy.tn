{"version":3,"file":"static/js/24.b94b2ce6.chunk.js","mappings":"6UAmLA,UAzKc,WACZ,OAAkCA,EAAAA,EAAAA,UAAS,CAAC,GAA5C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAA8BF,EAAAA,EAAAA,WAAS,GAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACQC,GAAgBC,EAAAA,EAAAA,KAAY,SAACC,GAAD,OAAWA,EAAMC,IAAjB,IAA5BH,YAEFI,GAAWC,EAAAA,EAAAA,MAEXC,EAAc,SAACC,GACnBV,GAAa,kBAAKD,GAAN,cAAkBW,EAAEC,OAAOC,KAAOF,EAAEC,OAAOE,QACxD,EAoCD,OACE,4BACE,iBAAMC,UAAU,iGAAhB,UACE,iBAAKA,UAAU,mHAAf,WACE,eAAIA,UAAU,OAAd,SAAqB,eACrB,iBAAKA,UAAU,uFAAf,WACE,gBAAKC,IAAKC,EAAQF,UAAU,iBAC5B,wBAAI,qBAEN,kBAAMA,UAAU,eAAeG,SAAU,SAACP,GAAD,OA3CjD,SAAkBA,GAChBA,EAAEQ,eAAeR,GACjBR,GAAW,GACXK,GAASY,EAAAA,EAAAA,IAAMpB,IACZqB,MAAK,SAACC,GACL,GAA2B,MAAvBA,EAAIC,QAAQC,OACd,OAAOhB,GAASiB,EAAAA,EAAAA,OAAWJ,MAAK,SAACC,GACJ,MAAvBA,EAAIC,QAAQC,QACdE,EAAAA,GAAMC,QAAQ,0BAAwB,CACpCC,SAAU,YACVC,UAAW,IACXC,iBAAiB,EACjBC,cAAc,EACdC,cAAc,EACdC,WAAW,EACXC,cAAUC,GAGf,GAEJ,IACAC,SAAQ,WACPjC,GAAW,EACZ,GACJ,CAmBuDkC,CAAS1B,EAAhB,EAAzC,WACE,iBAAKI,UAAU,iBAAf,WACE,kBAAOuB,IAAI,2BAA2BvB,UAAU,aAAhD,SAA6D,kDAG7D,iBAAKA,UAAU,6BAAf,WACE,kBACEwB,KAAK,OACLxB,UAAU,eACVF,KAAK,WACL2B,GAAG,2BACH,mBAAiB,sDACjBC,UAAQ,EACRC,SAAU,SAAC/B,GAAD,OAAOD,EAAYC,EAAnB,EACVgC,aAAa,cAEf,gBACEH,GAAG,mCACHzB,UAAU,mBAFZ,SAGC,sFAML,iBAAKA,UAAU,sBAAf,WACE,kBAAOuB,IAAI,qBAAqBvB,UAAU,aAA1C,SAAuD,kBAGvD,kBACEwB,KAAK,WACLxB,UAAU,eACVyB,GAAG,qBACH3B,KAAK,WACL,mBAAiB,6BACjB4B,UAAQ,EACRC,SAAU,SAAC/B,GAAD,OAAOD,EAAYC,EAAnB,EACVgC,aAAa,sBAEf,gBAAKH,GAAG,6BAA6BzB,UAAU,mBAA/C,SAAkE,wCAInEX,GAAc,SAAC,IAAD,CAAOwC,SAAS,QAAhB,SAAyBxC,IAAuB,MAC/D,gBAAKW,UAAU,+DAAf,UACE,mBACEA,UAAU,iBACVwB,KAAK,SACLM,SAAU3C,EAHZ,SAKGA,GACC,iCACE,iBACEa,UAAU,wCACV+B,KAAK,SACL,cAAY,SACN,4BAIV,oBAIN,iBAAK/B,UAAU,oEAAf,WACE,mBAAOA,UAAU,OAAjB,UAAwB,4BAEtB,kBAAMA,UAAU,eAAhB,UACG,KACD,SAAC,KAAD,CAAMgC,GAAG,SAAShC,UAAU,YAA5B,SAAwC,yBAK5C,mBAAOA,UAAU,OAAjB,UAAwB,0BAEtB,iBAAMA,UAAU,eAAhB,UACE,UAAC,KAAD,CAAMgC,GAAG,YAAYhC,UAAU,YAA/B,UACG,IAAI,oCAOf,mBACA,uBAAG,QACH,iBAAKA,UAAU,iGAAf,WACE,cAAGA,UAAU,oBAAb,SAAiC,6BAA6B,KAC9D,iBAAKA,UAAU,uDAAf,WACE,oBAAQiC,QA3GH,WACfC,OAAOC,KAAK,kCAAmC,QAChD,EAyGW,WACE,gBAAKlC,IAAKmC,IAAqB,oBAEjC,oBAAQH,QA1GL,WACbC,OAAOC,KAAK,gCAAiC,QAC9C,EAwGW,WACE,gBAAKnC,UAAU,OAAOC,IAAKoC,IAAkB,wBAInD,iBAAKrC,UAAU,gDAAf,WACE,kBAAOwB,KAAK,WAAWxB,UAAU,eACjC,6BAAO,wCAC8B,KACnC,iBAAMA,UAAU,eAAhB,SAA+B,6FAQvC,SAAC,IAAD,MAGL,C","sources":["views/pages/login/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport Footer from \"../../../components/footer/Footer\";\nimport avatar from \"../../../assets/images/avatar.jpg\";\nimport facebook_logo from \"../../../assets/images/facebook.png\";\nimport gmail_logo from \"../../../assets/images/gmail.png\";\nimport { login, getUser } from \"../../../redux/userSlice\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { toast } from \"react-toastify\";\nimport { Link } from \"react-router-dom\";\nimport Alert from \"@mui/material/Alert\";\nconst Login = () => {\n  const [userInput, setUserInput] = useState({});\n  const [loading, setLoading] = useState(false);\n  const { loginErrors } = useSelector((state) => state.user);\n\n  const dispatch = useDispatch();\n\n  const getUserInfo = (e) => {\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\n  };\n\n  function sendData(e) {\n    e.preventDefault(e);\n    setLoading(true);\n    dispatch(login(userInput))\n      .then((res) => {\n        if (res.payload.status === 200) {\n          return dispatch(getUser()).then((res) => {\n            if (res.payload.status === 200) {\n              toast.success(\"Vous etes connectés!\", {\n                position: \"top-right\",\n                autoClose: 5000,\n                hideProgressBar: false,\n                closeOnClick: true,\n                pauseOnHover: true,\n                draggable: true,\n                progress: undefined,\n              });\n            }\n          });\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }\n\n  const facebook = () => {\n    window.open(\"https://soomy.tn/users/facebook\", \"_self\");\n  };\n\n  const google = () => {\n    window.open(\"https://soomy.tn/users/google\", \"_self\");\n  };\n\n  return (\n    <div>\n      <main className=\"d-flex flex-column py-2 px-2 px-lg-5 justify-content-center align-items-center connect pt-lg-5\">\n        <div className=\"w-100 px-lg-5 py-1 py-lg-4 edge-shadow-connect d-flex justify-content-center align-items-center flex-column mt-2\">\n          <h1 className=\"my-2\">Connexion</h1>\n          <div className=\"avatar-connection d-flex justify-content-center align-items-center flex-column  mt-2\">\n            <img src={avatar} className=\"edge-shadow\" />\n            <h2>Se connecter</h2>\n          </div>\n          <form className=\"row g-3 mt-3\" onSubmit={(e) => sendData(e)}>\n            <div className=\"col-md-12 my-3\">\n              <label for=\"validationServerUsername\" className=\"form-label\">\n                Télèphone, E-mail ou Nom d'utilisateur\n              </label>\n              <div className=\"input-group has-validation\">\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"username\"\n                  id=\"validationServerUsername\"\n                  aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\n                  required\n                  onChange={(e) => getUserInfo(e)}\n                  autoComplete=\"username\"\n                />\n                <div\n                  id=\"validationServerUsernameFeedback\"\n                  className=\"invalid-feedback\"\n                >\n                  Veuillez saisir un numéro télèphone, E-mail ou Nom\n                  d'utilisateur.\n                </div>\n              </div>\n            </div>\n            <div className=\"col-md-12 mb-3 mt-2\">\n              <label for=\"validationServer03\" className=\"form-label\">\n                Mot de passe\n              </label>\n              <input\n                type=\"password\"\n                className=\"form-control\"\n                id=\"validationServer03\"\n                name=\"password\"\n                aria-describedby=\"validationServer03Feedback\"\n                required\n                onChange={(e) => getUserInfo(e)}\n                autoComplete=\"current-password\"\n              />\n              <div id=\"validationServer03Feedback\" className=\"invalid-feedback\">\n                Veuillez saisir un mot de passe.\n              </div>\n            </div>\n            {loginErrors ? <Alert severity=\"error\">{loginErrors}</Alert> : null}\n            <div className=\"col-12 d-flex justify-content-center align-items-center my-4\">\n              <button\n                className=\"btn btn-submit\"\n                type=\"submit\"\n                disabled={loading}\n              >\n                {loading ? (\n                  <>\n                    <span\n                      className=\"spinner-border spinner-border-sm me-2\"\n                      role=\"status\"\n                      aria-hidden=\"true\"\n                    ></span>\n                    Connexion en cours ...\n                  </>\n                ) : (\n                  \"Se connecter\"\n                )}\n              </button>\n            </div>\n            <div className=\"d-flex flex-column justify-content-center align-items-center mt-2\">\n              <label className=\"mb-1\">\n                Mot de passe oublié ?\n                <span className=\"text-primary\">\n                  {\" \"}\n                  <Link to=\"/reset\" className=\"psw_reset\">\n                    Reinitialiser\n                  </Link>\n                </span>\n              </label>\n              <label className=\"mb-1\">\n                Vous etes nouveau ici?\n                <span className=\"text-primary\">\n                  <Link to=\"/register\" className=\"psw_reset\">\n                    {\" \"}\n                    Créer un compte\n                  </Link>\n                </span>\n              </label>\n            </div>\n          </form>\n          <hr />\n          <p>ou</p>\n          <div className=\"d-flex flex-column flex-lg-row justify-content-between align-items-center social-buttons w-100\">\n            <p className=\"col-md-3 text-end\">ou connectez vous avec :</p>{\" \"}\n            <div className=\" d-flex flex-column col-md-9 flex-lg-row social-wrap\">\n              <button onClick={facebook}>\n                <img src={facebook_logo}></img>Avec facebook\n              </button>\n              <button onClick={google}>\n                <img className=\"py-1\" src={gmail_logo}></img> Avec gmail\n              </button>\n            </div>\n          </div>\n          <div className=\"my-3 col-md-6 d-flex justify-content-baseline\">\n            <input type=\"checkbox\" className=\"me-2 mb-2\" />\n            <label>\n              En créant un compte, j'accepte les{\" \"}\n              <span className=\"text-primary\">\n                condition générales de ventes et les politiques de\n                confidentialités\n              </span>\n            </label>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Login;\n"],"names":["useState","userInput","setUserInput","loading","setLoading","loginErrors","useSelector","state","user","dispatch","useDispatch","getUserInfo","e","target","name","value","className","src","avatar","onSubmit","preventDefault","login","then","res","payload","status","getUser","toast","success","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","finally","sendData","for","type","id","required","onChange","autoComplete","severity","disabled","role","to","onClick","window","open","facebook_logo","gmail_logo"],"sourceRoot":""}