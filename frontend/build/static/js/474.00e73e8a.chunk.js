"use strict";(self.webpackChunk_soomy_soomy_electronic_auctions_web_site=self.webpackChunk_soomy_soomy_electronic_auctions_web_site||[]).push([[474],{33474:function(e,a,i){i.r(a);var l=i(70885),n=i(72791),s=i(59434),o=i(16871),t=(i(83112),i(82056)),c=i(75985),d=(i(5462),i(57496)),r=i(39),m=i(80184);a.default=function(e){var a,i,u,h,v,x,p,j,f,b,N,g,y,C,k,S=(0,s.I0)(),_=(0,o.s0)(),w=(0,s.v9)((function(e){return e.user})),O=(0,n.useState)(!1),T=(0,l.Z)(O,2),P=(T[0],T[1]),Z=(0,n.useState)(!0),z=(0,l.Z)(Z,2),V=z[0],A=z[1],I=(0,n.useState)(!0),L=(0,l.Z)(I,2),q=L[0],B=L[1],M=w.userInfo,E=w.deconnectionLoading,K=w.connexionLoading,R=(w.showModal,(0,n.useState)(null===M||void 0===M?void 0:M.firstName)),D=(0,l.Z)(R,2),F=D[0],G=D[1],U=(0,n.useState)(null===M||void 0===M?void 0:M.lastName),W=(0,l.Z)(U,2),H=W[0],J=W[1],Q=(0,n.useState)(null===M||void 0===M?void 0:M.phone),X=(0,l.Z)(Q,2),Y=X[0],$=X[1],ee=(0,n.useState)(null===M||void 0===M?void 0:M.email),ae=(0,l.Z)(ee,2),ie=ae[0],le=ae[1],ne=(0,n.useState)(null===M||void 0===M?void 0:M.Adresse),se=(0,l.Z)(ne,2),oe=se[0],te=se[1],ce=(0,n.useState)(""),de=(0,l.Z)(ce,2),re=de[0],me=de[1],ue=(0,n.useState)(""),he=(0,l.Z)(ue,2),ve=he[0],xe=he[1],pe=(0,n.useState)(""),je=(0,l.Z)(pe,2),fe=je[0],be=je[1],Ne=(0,n.useState)("carte bancaire"),ge=(0,l.Z)(Ne,2),ye=ge[0],Ce=ge[1],ke=(0,n.useState)("en attente de paiement"),Se=(0,l.Z)(ke,2),_e=Se[0],we=Se[1],Oe=(0,o.UO)().id,Te=((0,s.v9)((function(e){return e.room})),(0,s.v9)((function(e){return e.order})).singleOrder);(0,n.useEffect)((function(){S((0,r.C)({room:Oe,user:null===M||void 0===M?void 0:M._id}))}),[S,Oe]),(0,n.useEffect)((function(){S((0,d.PR)())}),[S]);(0,s.v9)((function(e){return e.participation})).userParticipationList;return(0,m.jsx)("div",{className:"".concat(E||K?"d-flex justify-content-center align-items-center":"moving-main"),style:{height:"".concat(E||K?"100vh":null)},children:E||K?(0,m.jsx)("div",{className:"spinner-border",role:"status",children:(0,m.jsx)("span",{className:"visually-hidden",children:"Loading..."})}):(0,m.jsxs)(m.Fragment,{children:[(0,m.jsxs)("div",{className:"fluid-container",children:[(0,m.jsx)(c.Ix,{position:"top-center",autoClose:1e4,hideProgressBar:!1,newestOnTop:!1,toastStyle:{backgroundColor:"#303030",color:"white"},progressClassName:"Toastify__progress-bar--warning",closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,m.jsx)("div",{children:(0,m.jsxs)("main",{className:"pt-5",children:[(0,m.jsx)("h2",{className:"checkout-title mx-auto text-center mb-5",style:{fontSize:"38px"},children:" Validation de commande"}),(0,m.jsxs)("form",{className:"g-3 needs-validation container d-flex p-2 mb-2 mx-auto justify-content-between main-checkout",novalidate:!0,onSubmit:function(e){return function(e){e.preventDefault(),S((0,r.Cs)({id:null===Te||void 0===Te?void 0:Te._id,data:{date:new Date,nom:F,Adresse:oe,email:ie,phone:Y,zip:ve,ville:re,method_of_paiement:ye,status_payment:_e,notes:fe}})).then((function(e){return _("/validation/".concat(null===Te||void 0===Te?void 0:Te._id))}))}(e)},children:[(0,m.jsxs)("div",{className:"checkout-form edge-shadow p-3",children:[(0,m.jsx)("h3",{className:"text-left mt-0 mb-4",children:"Informations Personelles"}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom01",className:"form-label",children:"Pr\xe9nom *"}),(0,m.jsx)("input",{onChange:function(e){G(e.target.value)},value:F,type:"text",className:"form-control",id:"validationCustom01",required:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir un code postal valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom02",className:"form-label",children:"Nom *"}),(0,m.jsx)("input",{onChange:function(e){J(e.target.value)},value:H,type:"text",className:"form-control",id:"validationCustom02",required:!0}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir un code postal valide."})]}),(0,m.jsxs)("div",{className:"d-flex w-100",children:[(0,m.jsxs)("div",{className:"mt-2 me-1 w-100",children:[(0,m.jsx)("label",{for:"validationCustom01",className:"form-label",children:"Email *"}),(0,m.jsx)("input",{onChange:function(e){le(e.target.value)},value:ie,type:"email",className:"form-control",id:"validationCustom03",required:!0}),(0,m.jsx)("div",{className:"valid-feedback",children:"Cela semble bon!"})]}),(0,m.jsxs)("div",{className:"mt-2 ms-1 w-100",children:[(0,m.jsx)("label",{for:"validationCustom03",className:"form-label",children:"T\xe9l\xe9phone *"}),(0,m.jsx)("input",{onChange:function(e){$(e.target.value)},value:Y,type:"text",className:"form-control",id:"validationCustom04",required:!0}),(0,m.jsx)("div",{className:"valid-feedback",children:"Cela semble bon!"})]})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom05",className:"form-label",children:"Adresse"}),(0,m.jsx)("input",{onChange:function(e){te(e.target.value)},value:oe,type:"text",className:"form-control",id:"validationCustom05"}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez fournir une rue valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom06",className:"form-label",children:"Ville *"}),(0,m.jsxs)("select",{onChange:function(e){return me(e.target.value)},className:"form-select",id:"validationCustom06",required:!0,children:[(0,m.jsx)("option",{selected:!0,disabled:!0,value:"",children:"Choisir..."}),(0,m.jsx)("option",{children:"Tunis"}),(0,m.jsx)("option",{children:"Bizert"}),(0,m.jsx)("option",{children:"Ariana"}),(0,m.jsx)("option",{children:"B\xe8ja"}),(0,m.jsx)("option",{children:"Ben Arous"}),(0,m.jsx)("option",{children:"Gafsa"}),(0,m.jsx)("option",{children:"Kairouane"}),(0,m.jsx)("option",{children:"Gab\xe8s"}),(0,m.jsx)("option",{children:"Mahdia"}),(0,m.jsx)("option",{children:"Monastir"}),(0,m.jsx)("option",{children:"Sousse"}),(0,m.jsx)("option",{children:"Kasserine"}),(0,m.jsx)("option",{children:"Nabeul"}),(0,m.jsx)("option",{children:"Tatouine"}),(0,m.jsx)("option",{children:"Zaghouane"}),(0,m.jsx)("option",{children:"Tozeur"}),(0,m.jsx)("option",{children:"Siliana"}),(0,m.jsx)("option",{children:"Jendouba"}),(0,m.jsx)("option",{children:"Sidi Bouzid"}),(0,m.jsx)("option",{children:"Kef"}),(0,m.jsx)("option",{children:"Kebili"}),(0,m.jsx)("option",{children:"Manouba"}),(0,m.jsx)("option",{children:"Mednine"})]}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Veuillez s\xe9lectionner un \xe9tat valide."})]}),(0,m.jsxs)("div",{className:"mt-2",children:[(0,m.jsx)("label",{for:"validationCustom07",className:"form-label",children:"Code postal"}),(0,m.jsx)("input",{onChange:function(e){return xe(e.target.value)},type:"text",className:"form-control",id:"validationCustom07"})]}),(0,m.jsx)("div",{className:"mt-2",children:(0,m.jsxs)("div",{className:"form-check",children:[(0,m.jsx)("input",{className:"form-check-input",type:"checkbox",value:"",id:"invalidCheck",required:!0}),(0,m.jsx)("label",{className:"form-check-label",for:"invalidCheck",children:"Accepter les termes et conditions"}),(0,m.jsx)("div",{className:"invalid-feedback",children:"Vous devez accepter avant de soumettre le formulaire."})]})}),(0,m.jsxs)("div",{className:"mt-4",children:[(0,m.jsx)("label",{for:"validationCustom08",className:"form-label",children:"information suppl\xe9mentaire (Facultative)"}),(0,m.jsx)("textarea",{type:"text",className:"form-control mt-1",id:"validationCustom08",placeholder:"Commentaires concernant votre commande, ex. : consignes de livraison.",onChange:function(e){return be(e.target.value)}})]})]}),(0,m.jsxs)("div",{className:"col-5 d-flex flex-column align-items-center justify-content-center checkout-details px-sm-2 p-lg-4 px-md-3 edge-shadow",children:[(0,m.jsx)("h3",{className:"text-center mt-3",children:"Votre Commande"}),(0,m.jsx)("img",{className:"checkout-img mb-3 edge-shadow",src:null===Te||void 0===Te||null===(a=Te.room_id)||void 0===a||null===(i=a.product)||void 0===i||null===(u=i.image)||void 0===u?void 0:u.imageURL}),(0,m.jsx)("table",{className:"table w-100",children:(0,m.jsxs)("tbody",{className:"details-checkout-body",children:[(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Produit"}),(0,m.jsx)("td",{className:"text-end",children:null===Te||void 0===Te||null===(h=Te.room_id)||void 0===h||null===(v=h.product)||void 0===v?void 0:v.title})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Garantie"}),(0,m.jsxs)("td",{className:"text-end",children:[null===Te||void 0===Te||null===(x=Te.room_id)||void 0===x||null===(p=x.product)||void 0===p?void 0:p.garantie," Mois"]})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Partenaire"}),(0,m.jsxs)("td",{className:"text-end p-1",children:[" ",(0,m.jsx)("img",{className:"card-img-partner m-0",src:null===Te||void 0===Te||null===(j=Te.room_id)||void 0===j||null===(f=j.product)||void 0===f||null===(b=f.partner)||void 0===b||null===(N=b.image)||void 0===N?void 0:N.imageURL})]})]}),(0,m.jsxs)("tr",{className:"table-light",children:[(0,m.jsx)("td",{children:"Livraison"}),(0,m.jsx)("td",{className:"text-end",children:"---"})]})]})}),(0,m.jsx)("table",{className:"table total-table w-100",children:(0,m.jsxs)("tbody",{className:"total-body",children:[(0,m.jsxs)("tr",{className:"table-light total-tr mt-5",children:[(0,m.jsx)("td",{children:"Sous-total"}),(0,m.jsxs)("td",{className:"text-end",children:["soomy"===(null===Te||void 0===Te?void 0:Te.typeWinner)?null===Te||void 0===Te||null===(g=Te.room_id)||void 0===g?void 0:g.prixPromo:null===Te||void 0===Te||null===(y=Te.room_id)||void 0===y?void 0:y.directPrice," dt"]})]}),(0,m.jsxs)("tr",{className:"table-light total-tr",children:[(0,m.jsx)("td",{children:"Total"}),(0,m.jsxs)("td",{className:"text-end",children:["soomy"===(null===Te||void 0===Te?void 0:Te.typeWinner)?null===Te||void 0===Te||null===(C=Te.room_id)||void 0===C?void 0:C.prixPromo:null===Te||void 0===Te||null===(k=Te.room_id)||void 0===k?void 0:k.directPrice," dt"]})]})]})}),(0,m.jsxs)("div",{className:"accordion accordion-checkout w-100 mb-2",id:"accordionPanelsStayOpenExample",children:[(0,m.jsxs)("div",{className:"accordion-item accordion-item-checkout",children:[(0,m.jsxs)("h4",{className:"accordion-header accordion-header-checkout",id:"panelsStayOpen-headingTwo",children:[(0,m.jsx)("input",{checked:!V,className:"collapsed",onClick:function(e){Ce("virement bancaire"),we("en attente de virement"),P(!0),A(!e.target.checked),B(!0)},type:"radio",name:"methodPaiment",id:"AccordionItem2","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseTwo","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseTwo"}),(0,m.jsx)("label",{className:"checkout-label",for:"AccordionItem2",children:"Virement Bancaire"})]}),(0,m.jsx)("div",{id:"panelsStayOpen-collapseTwo",className:"accordion-collapse ".concat(V&&"collapse"),"aria-labelledby":"panelsStayOpen-headingTwo",children:(0,m.jsx)("div",{className:"accordion-body accordion-body-checkout",children:(0,m.jsxs)("p",{children:[" ","Effectuez le paiement directement depuis votre compte bancaire. Veuillez utiliser l\u2019ID de votre commande comme r\xe9f\xe9rence du paiement. Votre commande ne sera pas exp\xe9di\xe9e tant que les fonds ne seront pas re\xe7us."]})})})]}),(0,m.jsxs)("div",{className:"accordion-item accordion-item-checkout",children:[(0,m.jsxs)("h4",{className:"accordion-header accordion-header-checkout",id:"panelsStayOpen-headingThree",children:[(0,m.jsx)("input",{checked:!q,className:"collapsed",onClick:function(e){Ce("en attente"),we("en attente de livraison"),P(!0),A(!0),B(!e.target.checked)},id:"AccordionItem3",name:"methodPaiment",type:"radio","data-bs-toggle":"collapse","data-bs-target":"#panelsStayOpen-collapseThree","aria-expanded":"false","aria-controls":"panelsStayOpen-collapseThree"}),(0,m.jsx)("label",{className:"checkout-label",for:"AccordionItem3",children:"Paiement \xe0 la Livraison"})]}),(0,m.jsx)("div",{id:"panelsStayOpen-collapseThree",className:"accordion-collapse ".concat(q&&"collapse"),"aria-labelledby":"panelsStayOpen-headingThree",children:(0,m.jsx)("div",{className:"accordion-body accordion-body-checkout",children:(0,m.jsx)("p",{children:"R\xe9gler votre commande en esp\xe8ce, \xe0 la livraison."})})})]})]}),(0,m.jsx)("div",{className:"mt-2 button-box w-100",children:(0,m.jsx)("button",{className:"btn btn-outline-checkout w-100",type:"submit",children:"Valider"})})]})]})]})}),(0,m.jsx)(t.Z,{})]})," "]})})}}}]);
//# sourceMappingURL=474.00e73e8a.chunk.js.map