{"version":3,"file":"static/js/9.ea59d714.chunk.js","mappings":"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","sources":["views/pages/register/Register.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Footer from \"../../../components/footer/Footer\";\nimport facebook_logo from \"../../../assets/images/facebook.png\";\nimport gmail_logo from \"../../../assets/images/gmail.png\";\nimport { postNewUser } from \"../../../redux/userSlice\";\nimport { useNavigate } from \"react-router-dom\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport Alert from \"@mui/material/Alert\";\n\nconst Register = () => {\n  const [userInput, setUserInput] = useState({});\n  const [checked, setCheck] = useState(false);\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const [passwordMatchError, setPasswordMatchError] = useState(false);\n  const [registrationInProgress, setRegistrationInProgress] = useState(false);\n\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const { registerErrors, isAuth } = useSelector((state) => state.user);\n\n  const getUserInfo = (e) => {\n    setUserInput({ ...userInput, [e.target.name]: e.target.value });\n  };\n\n  // Function to handle password confirmation change\n  const handlePasswordConfirmChange = (e) => {\n    const confirmValue = e.target.value;\n    setPasswordConfirm(confirmValue);\n    // Clear the password confirmation error when the confirmation matches the password\n    if (confirmValue === userInput.password) {\n      setPasswordMatchError(false);\n    }\n  };\n\n  useEffect(() => {\n    if (isAuth) {\n      navigate(\"/\");\n    }\n  }, []);\n\n  function sendData(e) {\n    e.preventDefault();\n    setRegistrationInProgress(true);\n    if (userInput.password === passwordConfirm) {\n      dispatch(postNewUser(userInput))\n        .then((res) => {\n          if (res.payload.status === 200) {\n            navigate(\"/phone\");\n          }\n        })\n        .finally(() => {\n          setRegistrationInProgress(false); // Registration process finished\n        });\n    } else {\n      setPasswordMatchError(true);\n      setRegistrationInProgress(false); // Registration process finished (with error)\n    }\n  }\n\n  const facebook = () => {\n    window.open(\"https://soomy.tn/users/facebook\", \"_self\");\n  };\n\n  const google = () => {\n    window.open(\"https://soomy.tn/users/google\", \"_self\");\n  };\n\n  return (\n    <div>\n      <main className=\"d-flex flex-column justify-content-center align-items-center register pt-lg-5\">\n        <div className=\"container p-4 edge-shadow-connect d-flex justify-content-center align-items-center flex-column\">\n          <h1 className=\"mt-1\">Créez votre compte</h1>\n          <div className=\"d-flex justify-content-between align-items-center flex-column flex-lg-row w-100 mt-4 p-lg-4\">\n            <h2 className=\"col-md-4\">\n              Comment souhaitez-vous créer votre compte?\n            </h2>\n            <div className=\"d-flex flex-column col-md-4 me-2 social-buttons\">\n              <button className=\"w-100 mb-2\" onClick={facebook}>\n                <img src={facebook_logo}></img>avec facebook\n              </button>\n              <button className=\"w-100 mt-2\" onClick={google}>\n                <img className=\"py-1\" src={gmail_logo} /> avec gmail\n              </button>\n            </div>\n          </div>\n          <hr className=\"w-50 m-4\" />\n          <p className=\"mx-auto\">ou</p>\n          <form\n            className=\"row g-3 mt-2 mx-lg-5 mx-auto px-2\"\n            onSubmit={(e) => sendData(e)}\n          >\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer01\" className=\"form-label\">\n                  Prénom\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control\"\n                  name=\"firstName\"\n                  id=\"validationServer01\"\n                  onChange={(e) => getUserInfo(e)}\n                  required\n                />\n                <div\n                  id=\"validationServerFirstNameFeedback\"\n                  className=\"invalid-feedback\"\n                >\n                  Veuillez choisir un prénom .\n                </div>\n              </div>\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer02\" className=\"form-label\">\n                  Nom\n                </label>\n                <input\n                  type=\"text\"\n                  className=\"form-control \"\n                  name=\"lastName\"\n                  id=\"validationServer02\"\n                  onChange={(e) => getUserInfo(e)}\n                  required\n                />\n                <div\n                  id=\"validationServerLastNameFeedback\"\n                  className=\"invalid-feedback\"\n                >\n                  Veuillez choisir un nom .\n                </div>\n              </div>\n            </div>\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer02\" className=\"form-label\">\n                  Pseudo\n                </label>\n                <div className=\"input-group has-validation\">\n                  <input\n                    type=\"text\"\n                    name=\"username\"\n                    className=\"form-control \"\n                    id=\"validationServer03\"\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\n                    onChange={(e) => getUserInfo(e)}\n                    required\n                  />\n                  <div\n                    id=\"validationServerUsernameFeedback\"\n                    className=\"invalid-feedback\"\n                  >\n                    Veuillez choisir un nom d'utilisateur.\n                  </div>\n                </div>\n              </div>\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer04\" className=\"form-label\">\n                  Email\n                </label>\n                <input\n                  type=\"email\"\n                  className=\"form-control\"\n                  name=\"email\"\n                  id=\"validationServer04\"\n                  aria-describedby=\"validationServer04Feedback\"\n                  onChange={(e) => getUserInfo(e)}\n                  required\n                />\n                <div\n                  id=\"validationServerEmailFeedback\"\n                  className=\"invalid-feedback\"\n                >\n                  Veuillez choisir une adresse mail valide.\n                </div>\n              </div>\n            </div>\n            <div className=\"d-flex flex-column flex-lg-row-reverse col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer05\" className=\"form-label\">\n                  Genre\n                </label>\n                <select\n                  name=\"genre\"\n                  className=\"form-control \"\n                  id=\"validationServer05\"\n                  aria-describedby=\"validationServer05Feedback\"\n                  required\n                  onChange={(e) => getUserInfo(e)}\n                >\n                  <option>Select...</option>\n                  <option value=\"male\">Homme</option>\n                  <option value=\"female\">Femme</option>\n                  {/* There's no \"Autre\" - يَا أَيُّهَا النَّاسُ إِنَّا خَلَقْنَاكُم مِّن ذَكَرٍ وَأُنثَى */}\n                  <option value=\"other\">Autre</option>{\" \"}\n                </select>\n              </div>\n              <div className=\"register-input my-2\">\n                <label for=\"validationServer06\" className=\"form-label\">\n                  Mot de passe\n                </label>\n                <div className=\"input-group has-validation\">\n                  <input\n                    type=\"password\"\n                    className=\"form-control\"\n                    name=\"password\"\n                    id=\"validationServer06\"\n                    aria-describedby=\"inputGroupPrepend3 validationServerUsernameFeedback\"\n                    onChange={(e) => getUserInfo(e)}\n                    required\n                  />\n                  <div\n                    id=\"validationServerPasswordFeedback\"\n                    className=\"invalid-feedback\"\n                  >\n                    Veuillez choisir un mot de passe.\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div className=\"d-flex flex-column flex-lg-row col-md-12 justify-content-between d-sm-column my-0\">\n              <div className=\"register-input my-2\">\n                <label htmlFor=\"validationServer07\" className=\"form-label\">\n                  Confirmer mot de passe\n                </label>\n                <div className=\"input-group has-validation\">\n                  <input\n                    type=\"password\"\n                    className={`form-control ${\n                      passwordMatchError ? \"is-invalid\" : \"\"\n                    }`}\n                    id=\"validationServer07\"\n                    aria-describedby=\"validationServer07Feedback\"\n                    onChange={handlePasswordConfirmChange}\n                    required\n                  />\n                </div>\n              </div>\n            </div>\n            <div className=\"col-12 d-flex justify-content-center align-items-center\">\n              <button\n                className=\"btn btn-register my-3 w-auto\"\n                type=\"submit\"\n                disabled={\n                  !checked || passwordMatchError || registrationInProgress\n                }\n              >\n                {registrationInProgress ? (\n                  <>\n                    <span\n                      className=\"spinner-border spinner-border-sm me-2\"\n                      role=\"status\"\n                      aria-hidden=\"true\"\n                    ></span>\n                    Registration en cours ...\n                  </>\n                ) : (\n                  \"Suivant\"\n                )}\n              </button>\n            </div>\n          </form>\n\n          {passwordMatchError ? (\n            <Alert severity=\"error\" style={{ marginBottom: \"16px\" }}>\n              Les mots de passe ne correspondent pas.\n            </Alert>\n          ) : null}\n\n          {registerErrors ? (\n            <Alert severity=\"error\">{registerErrors}</Alert>\n          ) : null}\n\n          <div className=\"col-md-5 d-flex align-items-baseline mt-2\">\n            <input\n              type=\"checkbox\"\n              className=\"me-2\"\n              onChange={(e) => setCheck(e.target.checked)}\n            />\n            <label className=\"mb-1\">\n              En créant un compte, j'accepte les{\" \"}\n              <span className=\"text-primary\">\n                condition générales de ventes et les politiques de\n                confidentialités\n              </span>\n            </label>\n          </div>\n        </div>\n      </main>\n      <Footer />\n    </div>\n  );\n};\n\nexport default Register;\n"],"names":["useState","userInput","setUserInput","checked","setCheck","passwordConfirm","setPasswordConfirm","passwordMatchError","setPasswordMatchError","registrationInProgress","setRegistrationInProgress","dispatch","useDispatch","navigate","useNavigate","useSelector","state","user","registerErrors","isAuth","getUserInfo","e","target","name","value","useEffect","className","onClick","window","open","src","facebook_logo","gmail_logo","onSubmit","preventDefault","password","postNewUser","then","res","payload","status","finally","sendData","for","type","id","onChange","required","htmlFor","confirmValue","disabled","role","severity","style","marginBottom"],"sourceRoot":""}