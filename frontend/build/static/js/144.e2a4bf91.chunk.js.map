{"version":3,"file":"static/js/144.e2a4bf91.chunk.js","mappings":"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","sources":["views/pages/checkout/Validation.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\n/* import { FontAwesomeIcon } from \"@fortawesome/react-fontawesome\";\nimport {\n  faQuoteRight,\n  faAngleLeft,\n  faAngleRight,\n  faCheckCircle,\n} from \"@fortawesome/free-solid-svg-icons\"; */\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport Header from \"../../../components/header/Header\";\nimport Footer from \"../../../components/footer/Footer\";\nimport { PayPalButtons, PayPalScriptProvider } from \"@paypal/react-paypal-js\";\nimport { createTransaction } from \"../../../redux/transactionSlice\";\nimport { ToastContainer } from \"react-toastify\";\nimport { getUser, setCloseModal } from \"../../../redux/userSlice\";\nimport {\n  createOrder,\n  getNumberOfOrders,\n  getsingleOrder,\n  updateOrder,\n  validationMail,\n} from \"../../../redux/orderSlice\";\n\nconst Validation = (props) => {\n  const dispatch = useDispatch();\n  const navigate = useNavigate();\n  const user = useSelector((state) => state.user);\n  const { userInfo, deconnectionLoading, connexionLoading, showModal } = user;\n  useEffect(() => {\n    if (!userInfo) {\n      navigate(\"/\");\n    }\n  }, [navigate, userInfo]);\n\n\n  const params = useParams();\n  const product = params.id;\n  const roomData = useSelector((state) => state.room);\n  const { Room } = roomData;\n  const order = useSelector((state) => state.order);\n  const { NumberOfOrders, singleOrder } = order;\n\n  const participation = useSelector((state) => state.participation);\n  const { userParticipationList } = participation;\n\n  /*  useEffect(() => {\n    if (singleOrder&&(singleOrder?.user_id?._id!==userInfo?._id)) {\n      navigate(\"/\");\n    }\n  }, [navigate, userInfo,singleOrder]); */\n  useEffect(() => {\n    dispatch(getsingleOrder(product));\n  }, [dispatch, product]);\n\n  return (\n    <div\n      className={`${\n        deconnectionLoading || connexionLoading\n          ? \"d-flex justify-content-center align-items-center\"\n          : \"moving-main\"\n      }`}\n      style={{\n        height: `${deconnectionLoading || connexionLoading ? \"100vh\" : null}`,\n      }}\n    >\n      {deconnectionLoading || connexionLoading ? (\n        <div className=\"spinner-border\" role=\"status\">\n          <span className=\"visually-hidden\">Loading...</span>\n        </div>\n      ) : (\n        <>\n          <div className=\"fluid-container\">\n            <ToastContainer\n              position=\"top-center\"\n              autoClose={10000}\n              hideProgressBar={false}\n              newestOnTop={false}\n              toastStyle={{ backgroundColor: \"#303030\", color: \"white\" }}\n              progressClassName=\"Toastify__progress-bar--warning\"\n              closeOnClick\n              rtl={false}\n              pauseOnFocusLoss\n              draggable\n              pauseOnHover\n            />\n            {/*header start*/}\n            \n            <div>\n              <main className=\"pt-5\">\n                {singleOrder?.status_payment === \"payé\" ? (\n                  <h2\n                    className=\"checkout-title  mx-auto text-center mb-5\"\n                    style={{ color: \"rgb(2, 202, 2)\", fontSize: \"38px\" }}\n                  >\n                    {/*    <FontAwesomeIcon\n                icon={faCheckCircle}\n                style={{ color: \"#115817\" }}\n              />{\" \"} */}\n                    <i class=\"fi fi-rr-shield-check\"></i> Commande Validée{\" \"}\n                  </h2>\n                ) : (\n                  <h2\n                    className=\"checkout-title mx-auto text-center mb-5\"\n                    style={{ fontSize: \"38px\" }}\n                  >\n                    {\" \"}\n                    Commande en Attente\n                  </h2>\n                )}\n                <div className=\"g-3 needs-validation container d-flex p-2 mb-2 mx-auto justify-content-between main-checkout\">\n                  <div className=\"col-8 pe-lg-3 details-livraison-main\">\n                    <div className=\"col-12 checkout-form details-livraison p-3 edge-shadow\">\n                      <h3 className=\"text-left mt-0 mt-4\">\n                      Données de livraison\n                      </h3>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom01\" className=\"form-label\">\n                          Nom :\n                        </label>\n                        <p>{singleOrder?.user_id?.lastName}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom01\" className=\"form-label\">\n                          Prénom :\n                        </label>\n                        <p>{singleOrder?.user_id?.firstName}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom02\" className=\"form-label\">\n                          Email :\n                        </label>\n                        <p>{singleOrder?.user_id?.email}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom02\" className=\"form-label\">\n                        Téléphone :\n                        </label>\n                        <p>{singleOrder?.user_id?.phone}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom03\" className=\"form-label\">\n                          Adresse :\n                        </label>\n                        <p>{singleOrder?.Adresse}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom03\" className=\"form-label\">\n                          Ville :\n                        </label>\n                        <p>{singleOrder?.ville}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom04\" className=\"form-label\">\n                        Code postal :\n                        </label>\n                        <p>{singleOrder?.zip}</p>\n                      </div>\n                      <hr />\n                      <div className=\"mt-0\">\n                        <label for=\"validationCustom04\" className=\"form-label\">\n                          Moyen de paiement :\n                        </label>\n                        <p>{singleOrder?.method_of_paiement}</p>\n                      </div>\n                    </div>\n                    <div className=\"col-12 mt-2 checkout-form details-livraison p-3 edge-shadow\">\n                      <h3 className=\"text-left mt-0 mb-4\">Paiement</h3>\n                      <div className=\"mt-2\">\n                        <label  className=\"form-label\">\n                          Etat de Livraison :\n                        </label>\n                        <div\n                          className=\"alert alert-secondary py-1 pe-2 m-1\"\n                          role=\"alert\"\n                        >\n                          <p className=\"alert-link m-0\">\n                            {singleOrder?.status_delivery}\n                          </p>\n                        </div>\n                      </div>\n\n                      <div className=\"mt-2\">\n                        <label for=\"validationCustom06\" className=\"form-label\">\n                          Etat de Paiement :\n                        </label>\n                        {singleOrder?.status_payment === \"payé\" ? (\n                          <div\n                            className=\"alert alert-success py-1 pe-2 m-1\"\n                            role=\"alert\"\n                          >\n                            <p className=\"alert-link m-0\">payé</p>\n                          </div>\n                        ) : (\n                          <div\n                            className=\"alert alert-secondary py-1 pe-2 m-1 \"\n                            role=\"alert\"\n                          >\n                            <p className=\"alert-link m-0\">\n                              {singleOrder?.status_payment}\n                            </p>\n                          </div>\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                  <div className=\"col-4 d-flex flex-column align-items-center checkout-details px-sm-2 p-lg-3 px-md-3 edge-shadow\">\n                    <h3 className=\"text-center mt-3\">Votre Commande</h3>\n                    <img\n                      className=\"checkout-img edge-shadow\"\n                      src={singleOrder?.room_id?.product?.image?.imageURL}\n                    />\n                    <table className=\"table w-100\">\n                      <tbody className=\"details-checkout-body\">\n                        <tr className=\"table-light\">\n                          <td>Produit</td>\n                          <td className=\"text-end\">\n                            {singleOrder?.room_id?.product?.title}\n                          </td>\n                        </tr>\n                        <tr className=\"table-light\">\n                          <td>Garantie</td>\n                          <td className=\"text-end\">\n                            {singleOrder?.room_id?.product?.garantie} Mois\n                          </td>\n                        </tr>\n                        <tr className=\"table-light\">\n                          <td>Partenaire</td>\n                          <td className=\"text-end p-1\">\n                            <img\n                              className=\"card-img-partner m-0\"\n                              src={\n                                singleOrder?.room_id?.product?.partner?.image\n                                  ?.imageURL\n                              }\n                            />\n                          </td>\n                        </tr>\n                        <tr className=\"table-light\">\n                          <td>Livraison</td>\n                          <td className=\"text-end\">---</td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    <table className=\"table total-table w-100\">\n                      <tbody className=\"total-body\">\n                        <tr className=\"table-light total-tr mt-5\">\n                          <td>Sous-total</td>\n                          <td className=\"text-end\">\n                            {singleOrder?.typeWinner === \"soomy\"\n                              ? singleOrder?.room_id?.prixPromo\n                              : singleOrder?.room_id?.directPrice}{\" \"}\n                            dt\n                          </td>\n                        </tr>\n                        <tr className=\"table-light total-tr\">\n                          <td>Total</td>\n                          <td className=\"text-end\">\n                            {singleOrder?.typeWinner === \"soomy\"\n                              ? singleOrder?.room_id?.prixPromo\n                              : singleOrder?.room_id?.directPrice}{\" \"}\n                            td\n                          </td>\n                        </tr>\n                      </tbody>\n                    </table>\n                    {!(singleOrder?.status_payment === \"payé\") &&\n                      singleOrder &&\n                      singleOrder.method_of_paiement === \"carte bancaire\" && (\n                        <div className=\"paypal-button w-100 mt-4\">\n                          <PayPalScriptProvider\n                            options={{ \"client-id\": \"test\" }}\n                          >\n                            <PayPalButtons\n                              createOrder={(data, actions) => {\n                                return actions.order.create({\n                                  purchase_units: [\n                                    {\n                                      amount: {\n                                        value:\n                                          singleOrder?.typeWinner === \"soomy\"\n                                            ? singleOrder?.room_id?.prixPromo.toString()\n                                            : singleOrder?.room_id?.directPrice?.toString(),\n                                      },\n                                    },\n                                  ],\n                                });\n                              }}\n                              onApprove={(data, actions) => {\n                                return actions.order\n                                  .capture()\n                                  .then((details) => {\n                                    const captures =\n                                      details.purchase_units[0].payments\n                                        .captures;\n                                    dispatch(\n                                      createTransaction({\n                                        type: \"paiement\",\n                                        total: parseFloat(\n                                          captures[0].amount.value\n                                        ),\n                                        user: singleOrder?.user_id?._id,\n                                        service:\n                                          details.purchase_units[0]\n                                            .soft_descriptor,\n                                        montant:\n                                          singleOrder?.typeWinner === \"soomy\"\n                                            ? singleOrder?.room_id?.prixPromo\n                                            : singleOrder?.room_id?.directPrice,\n                                        status: captures[0].status,\n                                        ref: captures[0].id,\n                                      })\n                                    )\n                                      .then((data) => {\n                                        dispatch(\n                                          updateOrder({\n                                            id: singleOrder?._id,\n                                            data: {\n                                              status_payment: \"payé\",\n                                              status_delivery:\n                                                \"en attente de livraison\",\n                                              payment_id: data.payload._id,\n                                            },\n                                          })\n                                        );\n                                      })\n                                      .then(() => {\n                                        dispatch(\n                                          validationMail({\n                                            email: userInfo?.email,\n                                            room_id: singleOrder?.room_id?._id,\n                                            ref: singleOrder?.ref_order,\n                                            name: singleOrder?.room_id?.product\n                                              ?.title,\n                                            method_of_paiement:\n                                              singleOrder?.method_of_paiement,\n                                            status_payment:\n                                              singleOrder?.status_payment,\n                                            prix: singleOrder?.room_id?.product\n                                              ?.prix,\n                                            prixPromo:\n                                              singleOrder?.room_id?.prixPromo,\n                                            image:\n                                              singleOrder?.room_id?.product\n                                                ?.image?.imageURL,\n                                            order_id: singleOrder?._id,\n                                          })\n                                        ),\n                                          dispatch(getsingleOrder(product));\n                                      });\n                                    setTransaction(true);\n                                  });\n                              }}\n                            />\n                          </PayPalScriptProvider>\n                        </div>\n                      )}\n                  </div>\n                </div>\n              </main>\n            </div>\n            <Footer />\n\n            {/*footer end*/}\n          </div>{\" \"}\n        </>\n      )}\n    </div>\n  );\n};\n\nexport default Validation;\n"],"names":["props","dispatch","useDispatch","navigate","useNavigate","user","useSelector","state","userInfo","deconnectionLoading","connexionLoading","showModal","useEffect","product","useParams","id","order","room","Room","singleOrder","NumberOfOrders","participation","userParticipationList","getsingleOrder","className","style","height","role","position","autoClose","hideProgressBar","newestOnTop","toastStyle","backgroundColor","color","progressClassName","closeOnClick","rtl","pauseOnFocusLoss","draggable","pauseOnHover","status_payment","fontSize","class","for","user_id","lastName","firstName","email","phone","Adresse","ville","zip","method_of_paiement","status_delivery","src","room_id","image","imageURL","title","garantie","partner","typeWinner","prixPromo","directPrice","options","createOrder","data","actions","create","purchase_units","amount","value","toString","onApprove","capture","then","details","captures","payments","createTransaction","type","total","parseFloat","_id","service","soft_descriptor","montant","status","ref","updateOrder","payment_id","payload","validationMail","ref_order","name","prix","order_id","setTransaction"],"sourceRoot":""}